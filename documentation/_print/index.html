<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.86.0" /><link rel="canonical" type="text/html" href="http://DAYUCS.github.io/documentation/">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Documentation | My New Hugo Site</title>
<meta name="description" content=""><meta property="og:title" content="Documentation" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://DAYUCS.github.io/documentation/" />

<meta itemprop="name" content="Documentation">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content=""/>




<link rel="preload" href="/scss/main.min.27f080b85a32168f0af41d6f6e856adf3f9a77e7fefe4fb77d40d23bd77afca8.css" as="style">
<link href="/scss/main.min.27f080b85a32168f0af41d6f6e856adf3f9a77e7fefe4fb77d40d23bd77afca8.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="/css/prism.css"/>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">My New Hugo Site</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/documentation/" ><i class='fa fa-book'></i><span>Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.cccc37c0667c00f1c678563c6f652d36.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="25"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/documentation/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-13b874fbe7c2fb69e19f285a824de576">Mammoth</a></li>


    
  
    
    
	
<li>2: <a href="#pg-1e57b5bee8368cb62216224ce1e02bed">Office2Md</a></li>


    
  
    
    
	
<li>3: <a href="#pg-f5fcd81a47ab9159a0e83b752c01eb17">Build Web Site</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-e5f9fd74d82965704a0c8ae4a5120eb5">1. Install Pandoc and Convert Docx</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-cfc6ec17165524b92df0d01ad57b4b59">2. Install Hugo</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-e27a8e2cd181ee67bb8ef9e8ca3c74d1">3. Install Docsy</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-6f1e332cf646564c97f8cc89e002b19a">4. Setup Top-level Menu</a></li>


    
  
    
    
	
<li>3.5: <a href="#pg-f33b44679f7981a1c534caca8dcbda34">5. Add Content</a></li>


    
  
    
    
	
<li>3.6: <a href="#pg-44d9553cab3b6896f36717a3cf48b8b5">6. Setup Search</a></li>


    
  
    
    
	
<li>3.7: <a href="#pg-d06abd0c509ee74139ddf2a99a3ad1fc">7. Publish on Github (Option)</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-d8887eb85e0af7eb5d828e3e724f9488">Archiving and Recovery</a></li>


    
  
    
    
	
<li>5: <a href="#pg-5dc3d03496d9c85292f3ba2d397c948d">Example - RDB Log</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-177bc8becb828baa1e525871925f385b">Get Data from Oracle Log</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-0d7674015e99daafc58965b6c3b23fb7">Get Data from DB2 Log</a></li>


    
  
    
    
	
<li>5.3: <a href="#pg-e49bcd4fac49fb7b5f981eb8497e7584">Get Data from MS SQL Server Log</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-16d37f075c77b4a2021d3e5754ce102d">Table Example</a></li>


    
  
    
    
	
<li>7: <a href="#pg-279a5fb860227cb4690d4017c97eb636">Search Results</a></li>


    
  

    </ul>


<div class="content">
      <h1 id="contents">Contents</h1>
<p>Here are the contents:</p>

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-13b874fbe7c2fb69e19f285a824de576">1 - Mammoth</h1>
    <div class="lead">Use mammoth to convert Word document from docx to HTML and Markdown.</div>
	<p>Mammonth is designed to convert .docx documents, such as those created by Microsoft Word, Google Docs and LibreOffice, and convert them to HTML and Markdown.  Please note that mammoth covert docx by using <strong>semantic information in the document, and ignoring other details</strong>. Mammonth works fine if you only use styles to semantically mark up your document. Please refer to (<a href="https://pypi.org/project/mammoth/">https://pypi.org/project/mammoth/</a>) for the features supported by mammonth.</p>
<p>We&rsquo;ll install it on Ubuntu.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Suppose you have a recent version of NodeJS installed on your machine, so you can use NPM.</p>
<pre><code>sudo npm install -g mammoth
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Convert docx to markdown with mammoth.</p>
<pre><code>mammoth --output-format=markdown 'CEV336 Archiving and Recovery.docx' index.md
</code></pre><p>Or convert docx to HTML.</p>
<pre><code>mkdir media
mammoth --output-dir=./media 'CEV336 Archiving and Recovery.docx'
</code></pre></blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1e57b5bee8368cb62216224ce1e02bed">2 - Office2Md</h1>
    <div class="lead">Use Office2Md to convert Word document from docx to Markdown.</div>
	<p>Office2Md is designed to convert .docx documents, such as those created by Microsoft Word, Google Docs and LibreOffice, and convert them to Markdown. Please refer to (<a href="https://gitlab.com/VeryComplexName/opendoc">https://gitlab.com/VeryComplexName/opendoc</a>) for the features supported by Office2Md.</p>
<p>We&rsquo;ll install it on Windows 10.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Suppose you have a recent version of Git installed on your machine. Open Windows PowerShell:</p>
<pre><code>git clone https://gitlab.com/VeryComplexName/opendoc.git
</code></pre><p>This will create a folder named opendoc and clone Office2Md into this folder.</p>
</blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>There is file named Office2Md.json in folder opendoc. This file cotains the configuration of the tool. Replace its conten with this:</p>
<pre><code>{
 &quot;Toc&quot;: {
   &quot;TocHeading&quot;: [
     &quot;TOC Heading&quot;
   ],
   &quot;Toc1&quot;: [
     &quot;TOC 1&quot;
   ],
   &quot;Toc2&quot;: [
     &quot;TOC 2&quot;
   ],
   &quot;Toc3&quot;: [
     &quot;TOC 3&quot;
   ],
   &quot;Toc4&quot;: [
     &quot;TOC 4&quot;
   ]
 },
 &quot;Head&quot;: {
   &quot;Heading1&quot;: [
     &quot;Heading1&quot;,
     &quot;FASEHeading1&quot;
   ],
   &quot;Heading2&quot;: [
     &quot;Heading2&quot;,
     &quot;FASEHeading2&quot;
   ],
   &quot;Heading3&quot;: [
     &quot;Heading3&quot;,
     &quot;FASEHeading3&quot;
   ],
   &quot;Heading4&quot;: [
     &quot;Heading4&quot;,
     &quot;FASEHeading4&quot;
   ],
   &quot;Heading5&quot;: [
     &quot;Heading5&quot;,
     &quot;FASEHeading5&quot;
   ],
   &quot;Heading6&quot;: [
     &quot;Heading6&quot;,
     &quot;FASEHeading6&quot;
   ]
 },
 &quot;List&quot;: [
   &quot;ListParagraph&quot;,
   &quot;FSBulletlistblacklight&quot;,
   &quot;Bullet1&quot;,
   &quot;Bullet2&quot;,
   &quot;Bullet3&quot;
 ],
 &quot;Common&quot;: [
   &quot;Normal&quot;,
   &quot;Emphasis&quot;,
   &quot;Table Grid&quot;,
   &quot;Normal (Web)&quot;,
   &quot;Caption&quot;,
   &quot;Hyperlink&quot;,
   null
 ],
 &quot;Image&quot;: {
   &quot;Prefix&quot;: &quot;/content&quot;,
   &quot;UsePrefix&quot;: false,
   &quot;Embed&quot; : false,
   &quot;Convert&quot; : {
     &quot;UseConversion&quot; : false,
     &quot;Replace&quot; : [
       {&quot;From&quot; : &quot;.emf&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.wmf&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.tif&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.tiff&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.png&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.bmp&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.exif&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.gif&quot;, &quot;To&quot; : &quot;.jpg&quot;},
       {&quot;From&quot; : &quot;.ico&quot;, &quot;To&quot; : &quot;.jpg&quot;}
     ],
     &quot;Resize&quot; : {
       &quot;UseResize&quot; : false,
       &quot;MaxWidth&quot; : 800,
       &quot;MaxHeight&quot; : 0,
       &quot;DoNotResizeLessThanMax&quot; : true,
       &quot;InterpolationMode&quot; : &quot;HighQualityBicubic&quot;
     }
   }    
 },
 &quot;ReplaceThis&quot;: [
   {&quot;From&quot; : &quot;\u2013&quot;, &quot;To&quot; : &quot;-&quot;},
   {&quot;From&quot; : &quot;\u201c&quot;, &quot;To&quot; : &quot;\&quot;&quot;},
   {&quot;From&quot; : &quot;\u201d&quot;, &quot;To&quot; : &quot;\&quot;&quot;},
   {&quot;From&quot; : &quot;\u2022&quot;, &quot;To&quot; : &quot;&quot;},
   {&quot;From&quot; : &quot;\u2026&quot;, &quot;To&quot; : &quot;...&quot;},
   {&quot;From&quot; : &quot;\u2014&quot;, &quot;To&quot; : &quot;-&quot;},
   {&quot;From&quot; : &quot;®&quot;, &quot;To&quot; : &quot;&amp;copy;&quot;},
   {&quot;From&quot; : &quot;\u2122&quot;, &quot;To&quot; : &quot;&amp;trade;&quot;},
   {&quot;From&quot; : &quot;°&quot;, &quot;To&quot; : &quot;&amp;deg;&quot;},
   {&quot;From&quot; : &quot;\uffff&quot;, &quot;To&quot; : &quot;&quot;},
   {&quot;From&quot; : &quot;\u2019&quot;, &quot;To&quot; : &quot;'&quot;}
 ],
 &quot;Table&quot; : {
   &quot;Standardize&quot; : true
 },
 &quot;Colors&quot; : {
   &quot;UseColors&quot; : true,
   &quot;Replace&quot; : [
     {&quot;From&quot; : &quot;#FFFFFF&quot;, &quot;To&quot; : &quot;#000000&quot;},
     {&quot;From&quot; : &quot;white&quot;, &quot;To&quot; : &quot;black&quot;}
   ]
 },
 &quot;Workbook&quot; : {
   &quot;SheetHeading&quot; : {
     &quot;UseTabName&quot; : true,
     &quot;Template&quot; : &quot;### {TabName}&quot;
   }
 },
 &quot;Pdf&quot; : {
   &quot;UsePageNumbers&quot; : true,
   &quot;Position&quot; : &quot;footer&quot;,
   &quot;Template&quot; : &quot;#### {PageNumber}&quot;    
 }
}
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Suppose you have a recent .Net SDK installed on your machine. Under the window opened by Step 1:</p>
<pre><code>cd opendoc
.\Office2Md.ps1 -DocPath &quot;D:\Temp\CEV336 Archiving and Recovery.docx&quot; -MdDir D:\Temp\CE -GithubFlawor -IntoSingleOne
</code></pre><p>This will covert the docx and put the converted files into D:\Temp\CE</p>
</blockquote>
<ul>
<li>Step 4</li>
</ul>
<blockquote>
<p>Rename the md file as index.md and add Docsy header into it.</p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f5fcd81a47ab9159a0e83b752c01eb17">3 - Build Web Site</h1>
    
	<h1 id="build-a-web-site-with-hugo">Build a Web Site with Hugo</h1>
<p>How to convert MS Word file to markdown format? And how to build a web site with these markdown file?</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-e5f9fd74d82965704a0c8ae4a5120eb5">3.1 - 1. Install Pandoc and Convert Docx</h1>
    <div class="lead">How to install Pandoc on Ubuntu and convert docx to md.</div>
	<p>Pandoc is a Haskell library for converting from one markup format to
another (<a href="https://pandoc.org/">https://pandoc.org/</a>).</p>
<p>We&rsquo;ll install it on Ubuntu and convert files from Microsoft Word docx to
Markdown.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Run update command to update package repositories and get latest
package information.</p>
<pre><code>sudo apt update
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Run the install command to install the packages and dependencies.</p>
<pre><code>sudo apt install pandoc
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Run Pandoc command to check the installation.</p>
<pre><code>pandoc --version
</code></pre></blockquote>
<ul>
<li>Step 4</li>
</ul>
<blockquote>
<p>Run Pandoc command to convert docx to Markdown file and extract images
that the docx contains.</p>
<pre><code>pandoc -f docx -t markdown 'Get Data from DB Log - Oracle V2.docx' -o index.md --extract-media=.
</code></pre><p><img src="./media/image1.png" alt="The files generated by Pandoc"></p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cfc6ec17165524b92df0d01ad57b4b59">3.2 - 2. Install Hugo</h1>
    <div class="lead">How to install Hugo on Ubuntu.</div>
	<p>Hugo is one of the most popular open-source static site generators (<a href="https://gohugo.io/">https://gohugo.io/</a>).</p>
<p>We&rsquo;ll install it on Ubuntu.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Run update command to update package repositories and get latest
package information.</p>
<pre><code>sudo apt update
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Run the install command to install the packages and dependencies.</p>
<pre><code>sudo apt install hugo
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Run hugo command to check the installation.</p>
<pre><code>hugo version
</code></pre><p><img src="./media/image.png" alt="The Hugo Version"></p>
</blockquote>
<ul>
<li>Step 4</li>
</ul>
<blockquote>
<p>Run hugo command to create a new site.</p>
<pre><code>hugo new site word2md
</code></pre><p>The above will create a new Hugo site in a folder named <em>word2md</em>.</p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e27a8e2cd181ee67bb8ef9e8ca3c74d1">3.3 - 3. Install Docsy</h1>
    <div class="lead">How to install Docsy on Ubuntu.</div>
	<p>Docsy is a Hugo theme for creating great technical documentaion sites (<a href="https://www.docsy.dev/">https://www.docsy.dev/</a>).</p>
<p>We&rsquo;ll install it on Ubuntu.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>To build or update our site&rsquo;s CSS resources, we need PostCSS to create the final assets. Web must have 
a recent version of NodeJS installed on our machine so we can use npm.</p>
<pre><code>sudo npm install -D autoprefixer
sudo npm install -D postcss-cli
sudo npm install -D postcss
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>We&rsquo;ve generate a hugo site named <em>word2md</em>. Now we&rsquo;ll add the Docs theme as a submodule.</p>
<pre><code>cd word2md
git init
git submodule add https://github.com/google/docsy.git themes/docsy
echo 'theme = &quot;docsy&quot;' &gt;&gt; config.toml
git submodule update --init --recursive
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>To build and preview your site locally:.</p>
<pre><code>hugo server
</code></pre><p>By default, your site will be available at http://localhost:1313/</p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6f1e332cf646564c97f8cc89e002b19a">3.4 - 4. Setup Top-level Menu</h1>
    <div class="lead">How to set up the top level menu.</div>
	<p>The top level menu (the one that appears in the top navigation bar for the entire site) uses our site’s main menu..</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Add menu definition into config.toml which is under the root of our project directory. Then it
will look like this:</p>
<pre><code>baseURL = &quot;http://DAYUCS.github.io/&quot;
languageCode = &quot;en-us&quot;
title = &quot;My New Hugo Site&quot;
theme = &quot;docsy&quot;

[menu]

 [[menu.main]]
   identifier = &quot;documentation&quot;
   name = &quot;Documentation&quot;
   pre = &quot;&lt;i class='fa fa-book'&gt;&lt;/i&gt;&quot;
   url = &quot;/documentation/&quot;
   weight = 20
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Add _index.md under content/documentation of our project directory. Put following infomation into
this file:</p>
<pre><code>---
title: &quot;Documentation&quot;
weight: 1
type: docs
summary: A Hugo Site.
---

# Contents

Here are the contents:
</code></pre></blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f33b44679f7981a1c534caca8dcbda34">3.5 - 5. Add Content</h1>
    <div class="lead">How to add content.</div>
	<p>We add content for our site under the <strong>content root directory</strong> of our Hugo site project, either content/ or a 
language-specific root like conten/en/. Because most technical documentation sites have different sections for
different types of content, the Docsy theme comes with the following templates for top-level site sections:</p>
<ol>
<li><em>docs</em> is for pages in our site’s Documentation section.</li>
<li><em>blog</em> is for pages in our site’s Blog.</li>
<li><em>community</em> is for our site’s Community page.</li>
</ol>
<p>We&rsquo;ll create a new section under the <em>docs</em> for those documents converted from MS DOCX.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Create a new directory under content/documentation/ of our Hugo site project. In this case, The new dirctory is
<em>RDB</em>.
<img src="./media/image1.png" alt="The RDB Directory"></p>
</blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Put a file named _index.md into the directory. The content of this file looks like this:</p>
<pre><code>---
title: &quot;Example - RDB Log&quot;
weight: 20
type: docs
summary: How to get data from RDB Log.
---

# Get Data from RDB Log

How to get data from RDB Log?
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Create sub-directories for each docx file, and put converted files into these directories.
<img src="./media/image2.png" alt="Sub-directories of RDB"></p>
</blockquote>
<ul>
<li>Step 4</li>
</ul>
<blockquote>
<p>For each index.md converted from docx, add Docsy header like this:</p>
<pre><code>---
title: &quot;Get Data from Oracle Log&quot;
weight: 10
type: docs
description: &gt;
   A example to show how to get historical data from Oracle Log.
---
</code></pre><p>You may find the completed files at <a href="https://github.com/DAYUCS/word2md">https://github.com/DAYUCS/word2md</a>.</p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-44d9553cab3b6896f36717a3cf48b8b5">3.6 - 6. Setup Search</h1>
    <div class="lead">How to set up site search.</div>
	<p>Docsy offers multiple options that let our readers search our site content. In this case, we&rsquo;ll use <em>Local search with Lunr</em>.
This is a Javascript-based search option that lets us index our site and make it searchable without the need for external,
server-side search services. This is a good option particularly for smaller or non-public sites.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Create a Markdown file as content/documentation/search.md. It only needs a <em>title</em> and <em>layout: search</em>, as in the following
example:</p>
<pre><code>---
title: Search Results
layout: search
---
</code></pre></blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Enable local search in <em>config.toml</em>:</p>
<pre><code>[params]
#Enable offline search with Lunr.js
algolia_docsearch = false
offlineSearch = true
offlineSearchSummaryLength = 200
offlineSearchMaxResults = 25
</code></pre><p>You may find the completed files at <a href="https://github.com/DAYUCS/word2md">https://github.com/DAYUCS/word2md</a>.</p>
</blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Restart our Hugo local server.</p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d06abd0c509ee74139ddf2a99a3ad1fc">3.7 - 7. Publish on Github (Option)</h1>
    <div class="lead">How to publish our site on Github.</div>
	<p>Because Hugo renders static websites, we can host our new Hugo website virtually anywhere. Github provides free and fast static
hosting over SSL for personal, organization, or project pages directly from a GitHub repository via its GitHub Pages service and
automating development workflows and build with GitHub Actions. In this case, we&rsquo;ll deploy our site on GitHub manually.</p>
<h1 id="detailed-instructions">Detailed Instructions:</h1>
<ul>
<li>Step 1</li>
</ul>
<blockquote>
<p>Head over to GitHub and create a new public repository named <em>username</em>.github.io, where <em>username</em> is our username (or 
organization name) on Github. In this case, <em>username</em> is DAYUCS.</p>
</blockquote>
<ul>
<li>Step 2</li>
</ul>
<blockquote>
<p>Clone the new repository:</p>
<pre><code>cd ~
git clone https://github.com/DAYUCS/DAYUCS.github.io
</code></pre></blockquote>
<ul>
<li>Step 3</li>
</ul>
<blockquote>
<p>Stop Hugo local server, and build the site (<em>word2md</em> is our Hugo project directory):</p>
<pre><code>cd ~
cd word2md
hugo -d ../DAYUCS.github.io
cd ../DAYUCS.github.io
git add .
git commit -m &quot;first commit&quot;
git push -u origin master
</code></pre><p>Go to <a href="https://DAYUCS.github.io">https://DAYUCS.github.io</a> to see our website out in the wild.</p>
</blockquote>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d8887eb85e0af7eb5d828e3e724f9488">4 - Archiving and Recovery</h1>
    <div class="lead">Archiving and Recovery on CE.</div>
	<p><img src="images/" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:center"><!-- raw HTML omitted -->EXIMBILLS © Trade Finance System<!-- raw HTML omitted --><!-- raw HTML omitted -->Customer Enterprise Version 3.3.6<!-- raw HTML omitted --><!-- raw HTML omitted -->Archiving and Recovery<!-- raw HTML omitted --><!-- raw HTML omitted -->July 2021</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><em>Copyright</em> <em>2021</em> <em>© China Systems Corporation</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>All Rights Reserved</em><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>This document is protected by United States Copyright Law and may contain Trade Secrets Information which is proprietary to China Systems Corporation.  No part of this document may be copied, photocopied, reproduced, translated, distributed, or reduced to any electronic medium or machine-readable form without prior consent in writing from China Systems Corporation.  The information in this document may be used only under the terms and conditions of separate China Systems Corporation license agreements.</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>Information is subject to change without notice.  China Systems Corporation makes no warranties, either expressed or implied, with respect to the software herein described as to its quality, performance, including, without limitations to, its fitness for any particular purpose.</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>This document may not reflect total system capability at any subsequent date as a result of development.  It is also possible that it may contain references to facilities not available on your computer system.  Such references should not be construed to mean that these facilities will necessarily be made available on all types of computer hardware or in all user locations.</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>China Systems Corporation accepts no responsibility or liability for any damages or loss of business or revenue due to the use of this document.</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>All trademarks, registered trademarks and trade names mentioned in this document are the sole property of their respective holders.</em></td>
</tr>
<tr>
<td style="text-align:center">ORDER MORE EXIMBILLS DOCUMENTATION<!-- raw HTML omitted --><!-- raw HTML omitted -->Additional copies of Documentation are available for purchase from China Systems Corporation or through your local EXIMBILLS Support Office.</td>
</tr>
<tr>
<td style="text-align:center"><img src="images/796002d6-753a-4031-9de1-337f3105cdbb.jpeg" alt="csliit"><!-- raw HTML omitted --><!-- raw HTML omitted -->CHINA SYSTEMS CORPORATION<!-- raw HTML omitted --><!-- raw HTML omitted -->Comments may be addressed to:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a href="mailto:corporatedocs@chinasystems.com">corporatedocs@chinasystems.com</a><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->China Systems Corporation Ltd.<!-- raw HTML omitted --><!-- raw HTML omitted -->Corner House, 20 Parliament Street<!-- raw HTML omitted --><!-- raw HTML omitted -->Hamilton HM12<!-- raw HTML omitted --><!-- raw HTML omitted -->Bermuda</td>
</tr>
</tbody>
</table>
<p>Table of Contents</p>
<p><a href="error%20reading">CE Documentation Library</a></p>
<p><a href="error%20reading">CE Documentation Library</a></p>
<p><a href="error%20reading">Core System Manuals</a></p>
<p><a href="error%20reading">CE Utility Reference Manuals</a></p>
<p><a href="error%20reading">Installation Guides</a></p>
<p><a href="error%20reading">Introduction</a></p>
<p><a href="error%20reading">System Overview</a></p>
<p><a href="error%20reading">Manual Overview</a></p>
<p><a href="error%20reading">Using the CE Utility</a></p>
<p><a href="error%20reading">Running the CE Utility</a></p>
<p><a href="error%20reading">Preparing the CE Utility Files</a></p>
<p><a href="error%20reading">Accessing the CE Utility</a></p>
<p><a href="error%20reading">Navigating the CE Utility Interface</a></p>
<p><a href="error%20reading">Generating the XML Parameter Files</a></p>
<p><a href="error%20reading">Building a Product</a></p>
<p><a href="error%20reading">Archiving Prerequisites</a></p>
<p><a href="error%20reading">Archiving / Backup Database Settings</a></p>
<p><a href="error%20reading">Data Source Settings</a></p>
<p><a href="error%20reading">WebSphere Data Source Settings</a></p>
<p><a href="error%20reading">CE Utility Data Source Settings</a></p>
<p><a href="error%20reading">Log Settings</a></p>
<p><a href="error%20reading">Manual Archive Mode</a></p>
<p><a href="error%20reading">Overview</a></p>
<p><a href="error%20reading">Common Parameter Settings</a></p>
<p><a href="error%20reading">Archive Control Component</a></p>
<p><a href="error%20reading">Archive Product Items</a></p>
<p><a href="error%20reading">Error Codes</a></p>
<p><a href="error%20reading">JSP and JS Settings</a></p>
<p><a href="error%20reading">Archive Data Function</a></p>
<p><a href="error%20reading">Parameter Settings</a></p>
<p><a href="error%20reading">Transaction Process</a></p>
<p><a href="error%20reading">Restore Archived Data Function</a></p>
<p><a href="error%20reading">Parameter Settings</a></p>
<p><a href="error%20reading">Transaction Process</a></p>
<p><a href="error%20reading">Inquire Archived Data Function</a></p>
<p><a href="error%20reading">Parameter Settings</a></p>
<p><a href="error%20reading">Transaction Process</a></p>
<p><a href="error%20reading">Auto Archive Mode</a></p>
<p><a href="error%20reading">Overview</a></p>
<p><a href="error%20reading">Parameter Settings</a></p>
<p><a href="error%20reading">Transaction Process</a></p>
<p><a href="error%20reading">Archiving through STP</a></p>
<p><a href="error%20reading">Overview</a></p>
<p><a href="error%20reading">Parameter Settings</a></p>
<p><a href="error%20reading">Transaction Process</a></p>
<p><a href="error%20reading">Sample Archiving JSP and JS Files</a></p>
<p><a href="error%20reading">IMLC_ArchiveCriteria.jsp</a></p>
<p><a href="error%20reading">IMLC_ViewArchive.jsp</a></p>
<p><a href="error%20reading">IMLC_ViewArchive_Function.JS</a></p>
<p><a href="error%20reading">IMLC_ViewArchive_Event.JS</a></p>
<p><a href="error%20reading">Glossary</a></p>
<p><a href="error%20reading">Glossary</a></p>
<p>CE Documentation Library</p>
<p>CE Documentation Library</p>
<p>The CE Documentation Library lists all available manuals that serve as references on the use of the Customer Enterprise system. The documents are categorized into three groups: Core System Manuals, CE Utility Reference Manuals, and Installation Guides.</p>
<p>Core System Manuals</p>
<p>The CE core system manuals provide details on the setup and configuration of various CE parameters, as well as the implementation of supplementary functionalities supported by the system.</p>
<p>Archiving and Recovery</p>
<p>This manual is a reference to the Archive and Recovery functionality of the CE system. Discussions include the required parameter settings for configuring the relevant functions, as well as examples of how this functionality is used in transaction processes.</p>
<p>Building a Product</p>
<p>This manual is a reference to the process of building a product in CE.  It provides step-by-step procedures on how to create a basic CE module, transaction function, and product setting; configure parameters; and attach components to generate a working business product.</p>
<p>Data Objects</p>
<p>This manual serves as a reference for creating and utilizing data objects in the CE system.  The discussions provide details on how to build data object templates and data object entities, and how to attach these to the transaction function screen.</p>
<p>Frequently Asked Questions</p>
<p>This document addresses commonly-asked questions on the Customer Enterprise system.  Issues on the browser-side (transaction processing), CE Utility, Security Module, and database, among others, are addressed in the discussions.</p>
<p>Interfacing CE with CS Eximbills</p>
<p>This document discusses the process of interfacing CE with the CS Eximbills (CSX) back office system. Employing the MQ, FTP, and TCP/IP communication protocols, the interface process using the XML format is detailed in this document.</p>
<p>Interfacing CE with Eximbills Enterprise</p>
<p>This document discusses the process of interfacing CE with the Eximbills Enterprise (EE) back office system.  Employing the MQ protocol, the interface process for the transfer of data between CE and EE using the XML format is detailed in this document.</p>
<p>Log Settings</p>
<p>This manual provides details on CE logs as well as general instructions on log configuration in CE.  This is especially written for the users who are in charge of maintaining the CE system.</p>
<p>Look and Feel</p>
<p>This manual is a reference guide on designing the CE user interface (i.e., the look and feel of the system).  Divided into two parts, the manual provides instructions on creating a) the basic L&amp;F style of CE; and b) the CE L&amp;F style that incorporates widgets.</p>
<p>Multi-Entity</p>
<p>This manual is a reference on implementing the Multi-Entity functionality of the CE system.  Discussions cover the implementation and application of CE multi-entity.</p>
<p>Multi-Language</p>
<p>This manual discusses the procedures required in setting up the Multi-Language functionality of CE as it is run by Administrator- and Operator-type users. Furthermore, the configuration of certain system and browser elements as well as the setup of related system parameters is explained in step-by-step procedures.</p>
<p>Reports</p>
<p>This manual is a comprehensive reference guide on the requirements and processes involved in building business products and functions that generate online reports and documents.</p>
<p>Security and System Maintenance Functions</p>
<p>This manual is a comprehensive guide on the security and system maintenance of the CE system.  As such, it includes detailed instructions for company and company function management, and user and user function management.  Maintenance of key functionalities such as authorization rules, reference numbers, and other services is covered as well. In addition, this document discusses the security concepts in CE to assist users assigned with access rights to the CE Security Module.</p>
<p>Standing Data Functions</p>
<p>This document discusses the functions for the CE standing data that are maintained by operators (e.g., parties, clauses).  It includes sections for each function, starting with a brief description of the function, followed by the function input when necessary, and the procedure steps.</p>
<p>Supplementary Functions</p>
<p>This manual is a reference for the CE Utility operator user in configuring parameter, JSP, and transaction function settings to define special or supplementary CE functionalities such as uploading images; sending images and forms to the back-office system; and sending notifications via e-mail, SMS, and widgets.</p>
<p>System Administration Functions</p>
<p>This manual is a reference for the default Super Administrator user of the CE Utility in the configuration and maintenance of the CE environment.  It discusses in detail user management and parameter management.</p>
<p>System Reference</p>
<p>This document serves as a quick reference to the following elements that are used when configuring specific parameters in the CE Utility: global system parameters, system parameters, components, XML Generator items, server side system methods, system JS methods, and APIs.</p>
<p>CE Utility Reference Manuals</p>
<p>The CE Utility Reference set of manuals is a guide on the use of the Customer Enterprise Utility Workbench, or simply CE Utility.  This reference provides details on every function or feature in the CE Utility and includes instructions and step-by-step procedures on how to operate or use the function in relation to operating and maintaining the CE system and processing a business transaction.</p>
<p>A manual is provided for each function group of the CE Utility:</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>User Manager Functions</em>, for the functions that belong to the User Manage function group of the CE Utility when accessed by an Administrator or Operator user</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>Parameter Manager Functions</em>, for the functions that belong to the Parameter Manage function group of the CE Utility when accessed by an Administrator or Operator user</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>System Functions</em>, for the functions that belong to the System Function group of the CE Utility.</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>Transaction Functions</em>, for the functions that belong to the Transaction Function group of the CE Utility.</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>Product Functions</em>, for the functions that belong to the Product Function group of the CE Utility.</p>
<p><em>CE Utility</em> <em>Reference:</em> <em>Maintenance Functions</em>, for the functions that belong to the Maintenance function group of the CE Utility.</p>
<p>Installation Guides</p>
<p>The CE installation guides are references on the installation and setup processes of the CE system on different application servers and databases.</p>
<p><strong>Installation Guide WAS</strong> <strong>9</strong> <strong>- Oracle</strong> <strong>19c</strong></p>
<p>This is a reference for installing the CE system on WebSphere Application Server Version 9.0.5.6, with an Oracle 19c database.  This includes detailed instructions on configuring the components that are required to successfully run CE.</p>
<p>Introduction</p>
<p>System Overview</p>
<p>Manual Overview</p>
<p>System Overview</p>
<p>Transactions that are old, completed, or canceled consume much disk space that is better used to store future records.  Moreover, this slows down transaction processes.  While these types of records can simply be deleted, there is no way to retrieve them for inquiry or any subsequent process.</p>
<p>The Archiving and Recovery functionality of CE addresses these setbacks. Archiving is the process of transferring transaction records from the Transaction Database to the Backup Database. Recovery, on the other hand, is the process of retrieving archived records from the Backup Database. Recovered records may be used for other operations or inquiry, depending on the bank&rsquo;s requirements.</p>
<p>Archived data include master file transaction data and the associated data such as documents, images, GAPI, e-mails, and forms.</p>
<p>Run by bank operators, the Archiving functions in CE can only be created for transaction modules.  These functions are Archive Data, Inquire Archived Data, and Restore Archived Data.</p>
<p>There are two modes of archiving:</p>
<p>Manual Archiving, in which records are manually archived per module according to a set of defined criteria.  In addition, records received via STP can also be archived through this mode.</p>
<p>Auto Archiving, in which records are automatically archived by batch according to a set of defined criteria. This is also called Batch Archiving.</p>
<p>Creating Archiving functions requires specific installation, database, and parameter settings.</p>
<p>Manual Overview</p>
<p><!-- raw HTML omitted --><strong>Purpose</strong><!-- raw HTML omitted --></p>
<p>This manual is a reference to the Archive and Recovery functionality of the CE system. Discussions include the required parameter settings for configuring the relevant functions, as well as examples on how this functionality is used in transaction processes.</p>
<p>The archiving functions discussed in this document are manual Archiving functions (Archive Data, Restore Archived Data, and Inquire Archived Data), Batch Archive function, and STP Archive function.</p>
<p><!-- raw HTML omitted --><strong>Audience</strong><!-- raw HTML omitted --></p>
<p>This document is written specifically for, but not limited to, the following users:</p>
<p>Consultants tasked to implement the Archive and Recovery functions in a business module.  These users must have sufficient knowledge of running CE Utility functions, building a product, and installing the CE system.</p>
<p>Bank or browser-side users in charge of processing, managing, and maintaining transaction records.</p>
<p><!-- raw HTML omitted --><strong>Prerequisites</strong><!-- raw HTML omitted --></p>
<p>Sufficient knowledge of building business products is required. Recommended titles before reading this manual are as follows:</p>
<p><em>CE</em> <em>Building a</em> <em>Product</em></p>
<p><em>C**E Installation Guide</em></p>
<p><em>C**E System Administration Functions</em></p>
<p><em>CE Utility References</em></p>
<p><img src="images/0918e644-46e2-43c0-9e3b-5bd66a133e34.jpeg" alt="Tzone55"><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->Some features discussed in this manual have been tested and documented based on an older system version.  Unless otherwise specified, the overall functionality is the same when recreated in the current version.<!-- raw HTML omitted --></p>
<p>Using the CE Utility</p>
<p>Running the CE Utility</p>
<p>Generating the XML Parameters</p>
<p>BUILDING A PRODUCT</p>
<p>Running the CE Utility</p>
<p>The Customer Enterprise Utility Workbench, or CE Utility, is the main tool for building parameters in CE.</p>
<p>Preparing the CE Utility Files</p>
<p>Along with the installation files, the CE Utility folder is provided with every CE system release. Prior to using the CE Utility, do the following:</p>
<p>Copy the CE Utility folder to the local drive.</p>
<p>Define the required environment variables.</p>
<p>Map the CE directories (e.g., CEWeb.war and CE_PARA) to the network drive.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/9154101b-7cef-4b50-b74f-2f69e302bec6.png" alt=""></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>1</strong></em> <em><strong>CE Utility Folder</strong></em></p>
<p><img src="images/5c1a81bf-92ac-425d-bae1-c49985cfc817.jpeg" alt="Tzone55"><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->The default drives defined in the GEN_XML_ROOTPATH and GEN_WEB_ROOTPATH system parameters are<!-- raw HTML omitted --> <!-- raw HTML omitted -->O:&lt;/span&gt; <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->P:&lt;/span&gt; <!-- raw HTML omitted -->respectively. These drives, if currently not existing, may be created through a batch file. While<!-- raw HTML omitted --> <!-- raw HTML omitted -->O:&lt;/span&gt; <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->P:&lt;/span&gt;<!-- raw HTML omitted -->are the default drives for CE, these may be set to any other preferred drive available in the network.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->To enable users to use the CE Utility on their own local machines as clients connecting to the CE server: 1) Install the Java Development Kit (JDK) program; 2) Copy the CE Utility folder; 3) Create the<!-- raw HTML omitted --> <!-- raw HTML omitted -->JAVA_HOME<!-- raw HTML omitted --> <!-- raw HTML omitted -->environment variable, which<!-- raw HTML omitted --> <!-- raw HTML omitted -->must<!-- raw HTML omitted --> <!-- raw HTML omitted -->point to this directory:<!-- raw HTML omitted --> <!-- raw HTML omitted -->[Java Home]\[Installed JDK]<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->For more information on setting up the CE environment, refer to the CE installation guides<!-- raw HTML omitted --><!-- raw HTML omitted --><em>.</em><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->For information on the CE Utility functions, refer to the<!-- raw HTML omitted --> <!-- raw HTML omitted --><em>CE Utility Reference</em><!-- raw HTML omitted --> <!-- raw HTML omitted -->manuals.<!-- raw HTML omitted --></p>
<table>
<thead>
<tr>
<th><strong>Batch File for Creating the CE Drives</strong><!-- raw HTML omitted --><!-- raw HTML omitted -->The batch file for creating drives contains the following commands:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->subst O: /d<!-- raw HTML omitted --><!-- raw HTML omitted -->subst P: /d<!-- raw HTML omitted --><!-- raw HTML omitted -->subst O: C:&quot;\Program Files\IBM\WebSphere\AppServer\profiles\AppSrv01\installedApps\DOCS-CEV336Node01Cell\CE.ear\CE_PARA&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->subst P: C:&quot;\Program Files\IBM\WebSphere\AppServer\profiles\AppSrv01\installedApps\DOCS-CEV336Node01Cell\CE.ear\CEWeb.war&quot; <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><img src="images/eb65795d-8f04-4051-ac4f-fa042c8f20fe.png" alt=""></th>
</tr>
</thead>
</table>
<p>Accessing the CE Utility</p>
<p>The main program for running the CE Utility is the CEUtility.bat file, which is found in the CE Utility folder.</p>
<table>
<thead>
<tr>
<th><!-- raw HTML omitted --><strong>Do the following . .</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>.</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the CEUtility batch program to access the CE Utility.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->A shortcut for the CEUtility batch file can be created on the desktop for easy access.<!-- raw HTML omitted --></th>
<th></th>
<th style="text-align:center"><img src="images/31191e8a-c4b3-4eda-b7e5-b2716628e776.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The logon window of the CE Utility is displayed.<!-- raw HTML omitted --><!-- raw HTML omitted -->To define the database information, click on the Profile button.</td>
<td></td>
<td style="text-align:center"><img src="images/f4c3c29e-3fd4-410a-8f49-4986b1b2b608.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>In the Database Information dialog box that is displayed, specify the required database details and click on the Save button.</td>
<td></td>
<td style="text-align:center"><img src="images/72f2241a-1a68-4213-8515-abcae13e8062.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>A confirmation message is displayed. Click on the OK button.</td>
<td></td>
<td style="text-align:center"><img src="images/dd18c65e-1848-4950-926e-6fbf63c3389a.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->This new data source setting is saved in the<!-- raw HTML omitted --> <!-- raw HTML omitted -->UserInfo.xml<!-- raw HTML omitted --> <!-- raw HTML omitted -->file in the CE Utility directory.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/8947a075-1e03-470c-8c12-6f4a9500b964.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The relevant username and password may then be specified for logging on the CE Utility.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->For information on defining CE Utility user profiles, refer to the<!-- raw HTML omitted --> <!-- raw HTML omitted --><em>CE System Administration Functions</em><!-- raw HTML omitted --> <!-- raw HTML omitted -->manual.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/0f6b087e-46a2-460c-8f4f-fbcb0ec5424b.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The CE Utility window is displayed.</td>
<td></td>
<td style="text-align:center"><img src="images/6ec1d04e-dc76-4a30-8e64-e6873533db11.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>A function is accessed by opening or double-clicking on the relevant function group and clicking on the function name.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->A user may only access and utilize the functions assigned to him.<!-- raw HTML omitted -->  <!-- raw HTML omitted -->For more details, refer to the<!-- raw HTML omitted --> <!-- raw HTML omitted --><em>CE Utility Reference</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>:</em><!-- raw HTML omitted --> <!-- raw HTML omitted --><em>User Manager Functions</em><!-- raw HTML omitted --> <!-- raw HTML omitted -->documentation<!-- raw HTML omitted --><!-- raw HTML omitted --><em>.</em><!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/4987ed5a-6c46-4962-9818-e1c72e966125.png" alt=""></td>
</tr>
</tbody>
</table>
<p><img src="images/5ecd37ee-32ac-43ed-a937-912c30a3ed6e.jpeg" alt="Tzone55"><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->It is sometimes necessary to assign a new user name and password when the new database is restored from a backup file.  Restoring the backup file restores the original user profiles.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->The new user profiles for the CE Utility (as well as the CE Security Module) can be defined during the installation process.  SQL scripts are run to create these profiles.  Refer to the CE installation guides for more information.<!-- raw HTML omitted --></p>
<p>Navigating the CE Utility Interface</p>
<p>After logging on, the CE Utility window is displayed and parameters may then be configured. The functions used for setting up parameters may be accessed by clicking on the function name on the Function menu or by using the shortcut buttons.</p>
<p>The CE Utility interface also provides ways by which parameters can be created, edited, deleted or linked to other operations: menu bar, toolbar buttons, and popup menu.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/b2e6f408-724c-4a50-903c-648c16559492.png" alt=""></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>2</strong></em> <em><strong>The CE Utility Interface</strong></em></p>
<p><img src="images/3995faef-a070-4350-96dd-8676c073244e.jpeg" alt="Tzone55"><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->A function is only displayed, and its corresponding button or menu option enabled, if the user has been given the right to access this function.<!-- raw HTML omitted -->  <!-- raw HTML omitted -->Some options and functions are only available to Super Administrator users, while others are only accessible to Administrator and Operator users.<!-- raw HTML omitted --></p>
<p>CE Utility Functions</p>
<p>The functions that may be accessed for setting up parameters are organized together into several function groups. The current available function groups and their corresponding functions in the CE Utility are as follows:</p>
<p><strong>User Manager Function Group</strong></p>
<p>This function group is comprised of functions used for creating, configuring, and exporting Bank-Country group settings; creating new users; and configuring data sources. These functions are:</p>
<p>Business Unit Config</p>
<p>DataSource Manage</p>
<p>Import/Export Business Unit</p>
<p>User Manage</p>
<p><strong>Parameter Manage Function Group</strong></p>
<p>This function group consists of functions used for maintaining system-wide parameters and components. These functions are:</p>
<p>AP Server</p>
<p>Component Manage</p>
<p>Language Configuration</p>
<p>System Parameter</p>
<p>System Parameters</p>
<p><strong>System Function Group</strong></p>
<p>This function group consists of functions used for maintaining and facilitating system-wide tasks, operations, and settings. These functions are:</p>
<p>Image Type Maintain</p>
<p>Output Device</p>
<p>Queue Manager</p>
<p>STP Setting</p>
<p>Time Zone</p>
<p><strong>Transaction Function Group</strong></p>
<p>This function group is comprised of functions used for defining the actual business parameters of transaction functions.  These facilitate the maintenance and processes of the business transaction modules. These functions are:</p>
<p>Amount/Rate Format</p>
<p>Batch Manage</p>
<p>Clause</p>
<p>DO Get Data</p>
<p>Export Setting</p>
<p>Form</p>
<p>GAPIs Setting</p>
<p>Get Data</p>
<p>Image Control</p>
<p>Message Broker Setting</p>
<p>Module &amp; Event</p>
<p>Report Template</p>
<p>STPs Mapping</p>
<p>Sub Tasks</p>
<p>SWIFT Config</p>
<p>System Maintain</p>
<p>Transaction Function</p>
<p>Transfer To</p>
<p>TSU Mapping</p>
<p>Upload Message Setting</p>
<p>Web Service Setting</p>
<p>Widget Maintain</p>
<p><strong>Product Function Group</strong></p>
<p>This function group consists of functions that are used for creating and configuring the products to be accessed and used by the customers or end-users. These functions are:</p>
<p>Fields Select</p>
<p>Inbox</p>
<p>Product Authorize</p>
<p>Product Authorize Setting</p>
<p>Product Catalog</p>
<p>Product Function Setting</p>
<p>Product Item</p>
<p><strong>Maintenance Function Group</strong></p>
<p>This function group is comprised of functions used for facilitating the maintenance of data from CE tables, including fields and error settings. These functions are:</p>
<p>DB Dictionary</p>
<p>Error Handling</p>
<p>Error Message Config (CE)</p>
<p>Field Conversion</p>
<p>Multi Language</p>
<p>Page Dictionary</p>
<p>XML Generator</p>
<p>Menu Bar</p>
<p>The options on the menu bar are shortcuts to both the common and specific functions and tasks of the system.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/de0cf386-88e1-4a55-8975-570852323ad4.png" alt=""></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>3</strong></em> <em><strong>Menu Bar</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Menu</strong><!-- raw HTML omitted --></th>
<th style="text-align:center"></th>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Description</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th style="text-align:right"><strong>File</strong></th>
<th></th>
<th>The available options in the File menu are:<!-- raw HTML omitted --><!-- raw HTML omitted -->New: This is used for creating a new parameter or rule.<!-- raw HTML omitted --><!-- raw HTML omitted -->Save: This is used for saving the created or modified settings.<!-- raw HTML omitted --><!-- raw HTML omitted -->Close Function: This is used for closing the current function window.<!-- raw HTML omitted --><!-- raw HTML omitted -->Connect To: This is used for connecting to another Meta data source.<!-- raw HTML omitted --><!-- raw HTML omitted -->Log Off: This is used for logging off a user that is logged on to the system without exiting the system.<!-- raw HTML omitted --><!-- raw HTML omitted -->Exit: This is used for closing the system window and exiting the system.</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><strong>Edit</strong></td>
<td></td>
<td>The available options in the Edit menu are:<!-- raw HTML omitted --><!-- raw HTML omitted -->Add: This is used for adding a setting for the selected function or parameter.<!-- raw HTML omitted --><!-- raw HTML omitted -->Delete: This is used for deleting or removing an existing setting.<!-- raw HTML omitted --><!-- raw HTML omitted -->Edit: This is used for editing or modifying existing settings.<!-- raw HTML omitted --><!-- raw HTML omitted -->Copy: This is used for copying or duplicating a selected setting.<!-- raw HTML omitted --><!-- raw HTML omitted -->Find: This is used for finding a specific setting.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><strong>Function</strong></td>
<td></td>
<td>The available options in the Function menu are:<!-- raw HTML omitted --><!-- raw HTML omitted -->User Manage, which displays options for running User Manager functions<!-- raw HTML omitted --><!-- raw HTML omitted -->Parameter Manage, which displays options for running Parameter Manager functions<!-- raw HTML omitted --><!-- raw HTML omitted -->System Function, which displays options for running System functions<!-- raw HTML omitted --><!-- raw HTML omitted -->Transaction Function, which displays options for running Transaction functions<!-- raw HTML omitted --><!-- raw HTML omitted -->Product Function, which displays options for running Product functions<!-- raw HTML omitted --><!-- raw HTML omitted -->Maintenance, which displays options for running Maintenance functions</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><strong>Tools</strong></td>
<td></td>
<td>The available options in the Tools menu are:<!-- raw HTML omitted --><!-- raw HTML omitted -->Toolbar: When this option is marked, the toolbar is displayed on the CE Utility Workbench window.<!-- raw HTML omitted --><!-- raw HTML omitted -->Function Toolbar: When this option is marked, the function toolbar is displayed on the CE Utility Workbench window. <!-- raw HTML omitted --><!-- raw HTML omitted -->Set User Profile DB Info: This option is used by the Super Administrator user to change the user information that is to be used by the CE Utility for connecting to a database. <!-- raw HTML omitted --><!-- raw HTML omitted -->Window Style: Selecting this option displays a list of CE Utility interface styles: Microsoft Style, Unix Style, Java Style, Classic Style, and Metal Style. The preferred style may be marked accordingly.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><strong>Help</strong></td>
<td></td>
<td>The available options in the Help menu are:<!-- raw HTML omitted --><!-- raw HTML omitted -->Help Topics: This is <em>currently not used</em>.<!-- raw HTML omitted --><!-- raw HTML omitted -->Content Help: This is <em>currently not used.</em><!-- raw HTML omitted --><!-- raw HTML omitted -->About Customer Enterprise: Selecting this option displays the About Customer Enterprise window, which indicates the version information of CE.</td>
</tr>
</tbody>
</table>
<p>Toolbar Buttons</p>
<p>There are two kinds of toolbars in the CE Utility: the basic toolbar and the function toolbar.</p>
<p><strong>Basic Toolbar</strong></p>
<p>The following standard buttons are available on the Basic Toolbar of the CE Utility window. These are used for performing the basic and common tasks of the system.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/12ce04e1-0c10-4b0a-bc73-b2a209651fa4.png" alt=""></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>4</strong></em> <em><strong>Basic Toolbar Buttons</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Button</strong><!-- raw HTML omitted --></th>
<th style="text-align:center"></th>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Description</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th style="text-align:right"><img src="images/19d7078c-62ec-4af0-90b1-f82ca9afe8ef.png" alt=""> <strong>New</strong></th>
<th></th>
<th>This button is used for creating a new parameter or rule.</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/1286d286-4bdd-4713-a33e-f76d971edf0b.png" alt=""> <strong>Add</strong></td>
<td></td>
<td>This button is used for adding a setting for the selected function or parameter.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/c87c20c6-5c5e-4dd4-931c-cdea2c35ae42.png" alt=""> <strong>Save</strong></td>
<td></td>
<td>This button is used for storing created or modified settings.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/fa864899-09f3-46e0-b484-8f6b03be13ff.png" alt=""> <strong>Edit</strong></td>
<td></td>
<td>This button is used for editing or modifying existing settings.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/6f861eb9-483d-4d69-9370-d976b810c2cc.png" alt=""> <strong>Copy</strong></td>
<td></td>
<td>This button is used for copying or duplicating a selected setting.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/78b0aad1-857a-405c-a051-101bdf78f14d.png" alt=""> <strong>Delete</strong></td>
<td></td>
<td>This button is used for deleting or removing an existing setting.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/34116576-0444-4019-bf1e-6a03f7276286.png" alt=""> <strong>Find</strong></td>
<td></td>
<td>This button is used for finding an existing setting.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/707f3a1d-05a0-495f-a859-3aa0dc95828c.png" alt=""> <strong>Close Function</strong></td>
<td></td>
<td>This button is used for closing a function window.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/5b326904-751c-43e7-b10a-2d724923160d.png" alt=""> <strong>Help Topic</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/d1524da5-4d2f-4f50-83c4-dce115ce861d.png" alt=""> <strong>About Customer Enterprise</strong></td>
<td></td>
<td>This button is used for displaying the version information of Customer Enterprise.</td>
</tr>
</tbody>
</table>
<p><strong>Function Toolbar</strong></p>
<p>The buttons on this toolbar are shortcuts to some of the functions that are in the Function Group lists of the CE Utility window. The buttons may also be accessed from the Function menu on the menu bar.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/2fbf98f0-e88f-42c0-9c8e-83a962f95975.jpeg" alt="tmp6387"></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>5</strong></em> <em><strong>Function Toolbar Buttons</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Button</strong><!-- raw HTML omitted --></th>
<th style="text-align:center"></th>
<th style="text-align:center"><!-- raw HTML omitted --><strong>Description</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th style="text-align:right"><img src="images/34c00d5b-fd05-41df-8dc8-a6f463cb86a3.png" alt=""> <strong>Set System Parameter</strong></th>
<th></th>
<th>This button is used for accessing the System Parameter function. The function may also be accessed from the Parameter Manage group in the Function menu.</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/03c3881d-189f-438d-a431-3694c967f4e8.png" alt=""> <strong>Manage Component</strong></td>
<td></td>
<td>This button is used for accessing the Component Manage function. The function may also be accessed from the Parameter Manage group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/5939c3ef-a12b-47ab-aef3-bd92b9bc678f.png" alt=""> <strong>Calculation</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/677646fc-71dc-4e65-9679-4a28b045b5d4.png" alt=""> <strong>Module/Event Configuration</strong></td>
<td></td>
<td>This button is used for accessing the Module &amp; Event function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/042fc4d8-96ad-4f84-ba96-05bb3a7c82dc.png" alt=""> <strong>Transaction Function Configuration</strong></td>
<td></td>
<td>This button is used for accessing the Transaction Function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/17883a47-517c-436c-829c-9c3d461051f7.png" alt=""> <strong>Form Set</strong></td>
<td></td>
<td>This button is used for accessing the Form function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/4f819286-d9c5-41a9-b127-d931fbdd713b.png" alt=""> <strong>Accounting Rule Setting</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/c041d36f-c927-4bf5-9355-72c5aa3f7ef7.png" alt=""> <strong>Field Conversion</strong></td>
<td></td>
<td>This button is used for accessing the Field Conversion function. The function may also be accessed from the Maintenance group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/9cd8f075-66b9-43f7-9354-f37adcb85464.png" alt=""><strong>Get Data</strong></td>
<td></td>
<td>This button is used for accessing the Get Data function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/78ee710d-1c85-4dbd-b64f-488456811d4e.png" alt=""> <strong>Reference Number</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/c53b83b5-32c4-4e19-97eb-36cd65edce5b.png" alt=""> <strong>Output Device</strong></td>
<td></td>
<td>This button is used for accessing the Output Device function. The function may also be accessed from the System Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/0d212f17-6af2-48c4-a4d2-c1aa2f1927d1.png" alt=""> <strong>Function Group</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/30d20a85-a1a7-441d-83e9-ef4f1933f9d9.png" alt=""> <strong>Clause</strong></td>
<td></td>
<td>This button is used for accessing the Clause function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/3ede2afd-94e9-4017-ac35-34e829b8bf46.png" alt=""> <strong>SWIFT</strong></td>
<td></td>
<td>This button is used for accessing the SWIFT Config function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:right"><img src="images/adba87db-83ef-4238-88c3-81e1afe7ff58.png" alt=""> <strong>Queue Manager</strong></th>
<th></th>
<th>This button is used for accessing the Queue Manager function. The function may also be accessed from the System Function group in the Function menu.</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/9102a4ca-700a-44aa-a125-23af329102f3.png" alt=""> <strong>GAPIs Setting</strong></td>
<td></td>
<td>This button is used for accessing the GAPIs Setting function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/ff432c1c-3bfd-4acb-8520-651eeff86730.png" alt=""> <strong>Time Zone</strong></td>
<td></td>
<td>This button is used for setting time zone. The function may also be accessed from the System Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/fc97262f-2da9-43fd-93e5-145a9c4b8a44.png" alt=""> <strong>STP Setting</strong></td>
<td></td>
<td>This button is used for accessing the STP Setting function. The function may also be accessed from the System Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/ab72e064-324a-4a0a-984f-65edec9484cc.png" alt=""> <strong>Message Broker Setting</strong></td>
<td></td>
<td>This button is used for accessing the Message Broker Setting function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/a8e7109f-51e8-4171-8ddf-b702bc5d307c.png" alt=""> <strong>Processing Center</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/4ec2d162-d363-4767-8826-1efd031ba17e.png" alt=""> <strong>Amount Format Setting</strong></td>
<td></td>
<td>This button is used for accessing the Amount/Rate Format function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/d6cbedc4-ada1-43e2-b375-5b8225c654e0.png" alt=""> <strong>Error Message</strong></td>
<td></td>
<td>This button is used for accessing the Error Message Config (CE) function. The function may also be accessed from the Maintenance group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/df9f31a0-f544-43fb-ac01-e9effd67a3d7.png" alt=""> <strong>Say Total</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/24c57c22-bbbe-4498-9285-93b40f466ba7.png" alt=""> <strong>Holiday</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/d5ec9cdd-7e27-41a7-be2f-b3470d925f6b.png" alt=""> <strong>Report</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/ae7ad67c-241c-4cc5-a8c8-0d34400e02e1.png" alt=""> <strong>Transfer To</strong></td>
<td></td>
<td>This button is used for accessing the Transfer To function. The function may also be accessed from the Transaction Function group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/0c300b90-b95c-4ca8-a553-7d7646e319db.png" alt=""> <strong>Archiving</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/df43f35b-d0a1-428b-9db0-9135ae5656a2.png" alt=""> <strong>DB Dictionary</strong></td>
<td></td>
<td>This button is used for accessing the DB Dictionary function. The function may also be accessed from the Maintenance group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/400439ea-1c2f-4a67-b8c3-76e8999db760.png" alt=""> <strong>Calculation Constant</strong></td>
<td></td>
<td>This button is <em>currently not used.</em></td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/6bab9010-edd0-4e75-b10d-42f9dcfec314.png" alt=""> <strong>XML Generator</strong></td>
<td></td>
<td>This button is used for accessing the XML Generator function. The function may also be accessed from the Maintenance group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/cf452b8b-beeb-4564-804e-bcc361df90b6.png" alt=""> <strong>Business Unit</strong></td>
<td></td>
<td>This button is used for accessing the Business Unit Config function. The function may also be accessed from the User Manage group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/e0bd87cc-48e5-4bb4-a119-5209cef61938.png" alt=""> <strong>User Manager</strong></td>
<td></td>
<td>This button is used for accessing the User Manage function. The function may also be accessed from the User Manage group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/10f420f5-5cd3-432c-8ece-ff3a41a9a31a.png" alt=""> <strong>Import/Export Business Unit</strong></td>
<td></td>
<td>This button is used for accessing the Import/Export Business Unit function. The function may also be accessed from the User Manage group in the Function menu.</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:right"><img src="images/e3d85972-309e-48ca-8a82-ea1b1b91e55b.png" alt=""> <strong>DataSource Manager</strong></td>
<td></td>
<td>This function is used for accessing the Data Source Manage function. The function may also be accessed from the User Manage group in the Function menu.</td>
</tr>
</tbody>
</table>
<p>Popup Menu</p>
<p>Inside a function or configuration window, options may be provided in the form of a popup menu. This menu is displayed by right-clicking on the relevant window section or on the relevant information.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="images/753be66f-478f-4863-9493-1d11db84bfe9.png" alt=""></th>
</tr>
</thead>
</table>
<p><em><strong>Figure 2.</strong></em> <em><strong>6</strong></em> <em><strong>Popup Menu</strong></em></p>
<p>In a popup window, the following options may be made available:</p>
<p>New</p>
<p>Add</p>
<p>Save</p>
<p>Edit</p>
<p>Copy</p>
<p>Delete</p>
<p>Find</p>
<p>Sharable</p>
<p>Help</p>
<p>Generating the XML Parameter Files</p>
<p>The created parameters and business logic are stored in the database as Meta data. For this Meta data to be accessible to the application server (AP) and the web server, it has to be converted to XML - the format used for the communication between the client and the server.</p>
<p>The XML files are generated through the XML Generator function of the Maintenance function group in the CE Utility. In most cases, the XML Generator function must be run when a parameter is created or modified using the functions discussed in this document.</p>
<table>
<thead>
<tr>
<th><!-- raw HTML omitted --><strong>Do the following . .</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>.</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Log on CE Utility as an Administrator or Operator user with rights to the XML Generator function.</th>
<th></th>
<th style="text-align:center"><img src="images/67a16974-942e-4eab-a3b2-cfa67c656fd4.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The CE Utility window is displayed.<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the XML Generator function from the Maintenance function group.<!-- raw HTML omitted --><!-- raw HTML omitted -->Alternatively, click on the XML Generator button in the function toolbar.</td>
<td></td>
<td style="text-align:center"><img src="images/9a92338d-03cc-4c62-99ca-66191c13cdef.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The XML Generator function window is displayed.<!-- raw HTML omitted --><!-- raw HTML omitted -->When there are newly defined or modified parameters, the Meta Data to XML window is also displayed.  It lists these parameters for easy selection.  In this case, the parameter can be selected from this window and the Apply button clicked. Afterwards, proceed to Step 5.<!-- raw HTML omitted --><!-- raw HTML omitted -->Alternatively, the Meta data or parameter can be manually selected from the main XML Generator window.  In this case, click on the Close button of the Meta Data to XML window and proceed to Step 4.</td>
<td></td>
<td style="text-align:center"><img src="images/26345db4-123f-4909-8c40-2b17d941a85c.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Double-click on the relevant parameter type from the XML Generator window.</td>
<td></td>
<td style="text-align:center"><img src="images/3a8a1e87-863c-431f-ad4a-d98c505b3ad3.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Depending on the selected parameter type, an XML configuration window may be displayed. In other cases, the process directly proceeds to Step 6.<!-- raw HTML omitted --><!-- raw HTML omitted -->If the configuration window is displayed, indicate the exact or any additional setting required to generate the relevant XML files. When the specifications are defined click on the Save button</td>
<td></td>
<td style="text-align:center"><img src="images/ab00b942-4bb9-4fa2-8713-ff54624fe675.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>A message is displayed confirming if the XML files are to be generated on the system path.</td>
<td></td>
<td style="text-align:center"><img src="images/5aff78a3-b058-45e2-bd16-6d0a698e1b45.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The path of the XML files is defined through the GEN_XML_ROOTPATH Utility Workbench system parameter. This system parameter is configured through the System Parameter function from the Parameter Manage function group.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/f18337cc-a23a-4a5d-8671-c24876c8ede3.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>To save the XML file on the relevant system path, click on the Yes button.<!-- raw HTML omitted --><!-- raw HTML omitted -->To specify another path, click on the No button. On the Save dialog box that is displayed, browse for the path and click on the Save button.</td>
<td></td>
<td style="text-align:center"><img src="images/8df6a299-e9b4-4721-98d7-decb4af031a3.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>When the relevant XML files are generated, the system displays a confirmation message.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->To hide the information on the paths of the generated XML files, click on the Hide button.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/ce2bfdef-dd7f-4021-aaad-157925be7ea6.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Check the indicated path(s) to see the generated XML files.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/af48fa63-0f44-4b92-9738-dff8fe6b2173.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Building a Product</p>
<p>When building a product in the CE Utility, a few prerequisites are required to be met to make sure that modules or products are built in accordance with the bank&rsquo;s requirements.  One step is the GAP analysis which involves an evaluation of transaction requirements, based on the process flow (e.g., fields, clauses, forms, and interfaces).  These are necessary for identifying the fields required for anticipating the required output.  When the analysis has been completed, the project team can now begin the process of building a product for the bank&rsquo;s customers.</p>
<p>The following are steps in building a product:</p>
<p><strong>Access the CE Utility</strong>.  To access the CE Utility for building parameters, an Operator user must be created by an Administrator user.  This is set up through the User Manager function in the User Manage function group.</p>
<p><strong>Set up the module and events</strong>.  This involves naming the module and the projected events that manage the transaction flow within the module.  This is set up in the Module and Event function in CE Utility.</p>
<p><strong>Set up the transaction tables.</strong> This involves creating the tables in the DB Dictionary function in CE Utility.  There can be different types of tables but only three are mandatory for a CE module: master, ledger, and event.</p>
<p><img src="images/b76ad6b0-5267-48cc-b16b-b63b6641845a.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>It is possible to create tables directly into the database by running SQL scripts in the database.  In this case, tables can be created before modules and events.  It is recommended, however, to use the DB Dictionary for creating tables.</strong><!-- raw HTML omitted --></p>
<p><strong>Add fields to the transaction table</strong>.  Fields must be added to a transaction table and field properties defined for the processing and storage of data.  These can be done through the DB Dictionary function in CE Utility.</p>
<p><strong>Set up the transaction functions</strong>.  This involves creating the functions that correspond to actual business transaction processes.  This is done through Transaction Function in the Transaction Function group.</p>
<p><strong>Set up the transaction parameters</strong>.  This involves designing the transaction screen, defining attribute and catalog settings, and attaching these parameters to the transaction function.  These can be done through Transaction Function in CE Utility.</p>
<p><strong>Create the product.</strong> The product is the actual functionality accessed and run by the end-user.  This process of creating a product involves setting up the product group, product, and product function, and defining product catalog settings.</p>
<p><strong>Define authorization rules</strong>.  Authorization rules are set to further define or set limits for authorizing transactions.</p>
<p><strong>Calculation.</strong> This involves configuring the transaction JS files and defining calculation functions using available system methods.  There are three JS files that have to be configured: the Module Base JS file, Event JS file, and Function JS file.</p>
<p><strong>Define the settings for the transaction input.</strong> Certain functions may be added to aid in the input of data into the transaction.  The CE Utility provides options for setting up field conversion rules, lookup buttons, customer reference numbers, clauses, dropdown lists, and data objects for this purpose.</p>
<p><strong>Define the settings for the transaction output.</strong> Some business transactions involve output generation (i.e., Forms).  To make this option available, certain settings must be configured using the functions from the Transaction Function group in CE Utility.</p>
<p><strong>Define the security settings in the CE browser.</strong> The products and functions created are assigned to an end-user through the browser-side Security and System Maintenance functions.</p>
<p><img src="images/a7c2e202-f5b0-43be-9fff-30461f09db5c.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>The browser-side security and system maintenance functions of CE are often collectively called the Security Module.</strong><!-- raw HTML omitted --></p>
<p><strong>Add the Inbox functionality.</strong> Another way of accessing a product or a transaction for further processing is through the Customer Inbox.  This can be set up through the Inbox function in CE Utility.</p>
<p><img src="images/de171ccf-645d-4806-a150-ee6428b12928.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>For more information on configuring different parameters in CE, refer to the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><em><strong>CE Utility Reference</strong></em><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>manuals</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><em><strong>.</strong></em><!-- raw HTML omitted --></p>
<p>Archiving Prerequisites</p>
<p>Archiving / BACKUP Database Settings</p>
<p>Data Source Settings</p>
<p>Log Settings</p>
<p>Archiving / Backup Database Settings</p>
<p>Transaction records are archived into a separate Backup Database, i.e., the archiving database.</p>
<p>This Backup Database must have the same table structure as the physical Transaction Database.  When the table structures of the Transaction Database is changed, modify the corresponding table structures in the Backup Database by manually running the relevant SQL statements in this archiving database.</p>
<p><img src="images/55a90b62-7cc3-4d66-9cdf-2dd3f3af4df3.jpeg" alt="Tzone55"><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->The Backup<!-- raw HTML omitted --> <!-- raw HTML omitted -->Database<!-- raw HTML omitted --> <!-- raw HTML omitted -->setting<!-- raw HTML omitted --><!-- raw HTML omitted -->s<!-- raw HTML omitted --> <!-- raw HTML omitted -->must be configured in the same application server (WAS).<!-- raw HTML omitted --></p>
<p>Data Source Settings</p>
<p>For the Archiving and Recovery functionality of the CE system, two data sources are required: CEB and CEX.</p>
<p>The CEB data source refers to the Backup data source and, thus, points to the physical archiving database. Used for storing archived data, this Backup Database has the same table structure as the Transaction Database.</p>
<p>The CEX data source points to the physical Transaction Database, and is essentially the same as the CET data source.</p>
<p>The settings for the CEB and CEX data sources are configured in both WebSphere and CE Utility.</p>
<p>WebSphere Data Source Settings</p>
<p>The required WebSphere settings are as follows.</p>
<table>
<thead>
<tr>
<th><!-- raw HTML omitted --><strong>Do the following . . .</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Define the JDBC provider:<!-- raw HTML omitted --><!-- raw HTML omitted -->Name: Oracle JDBC Driver (XA)<!-- raw HTML omitted --><!-- raw HTML omitted -->Implementation class name: oracle.jdbc.xa.client.OracleXADataSource<!-- raw HTML omitted --><!-- raw HTML omitted -->Class path: ${ORACLE_JDBC_DRIVER_PATH}/ojdbc6.jar<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The<!-- raw HTML omitted --> <!-- raw HTML omitted -->ojdbc6.jar<!-- raw HTML omitted --> <!-- raw HTML omitted -->file is the JDBC driver for Oracle<!-- raw HTML omitted --> <!-- raw HTML omitted -->12c<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --></th>
<th style="text-align:center"></th>
<th style="text-align:center"><img src="images/5057fadb-4f5f-43c7-b9ed-a2b41828eb19.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the CEB data source:<!-- raw HTML omitted --><!-- raw HTML omitted -->Name: CEB<!-- raw HTML omitted --><!-- raw HTML omitted -->JNDI Name: CEB</td>
<td style="text-align:center"></td>
<td style="text-align:center"><img src="images/e72bdd16-c3d3-450d-8074-c52b258a462f.png" alt=""></td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>This must point to the Backup Database (e.g., CEBK).<!-- raw HTML omitted --><!-- raw HTML omitted -->Assign CETRX for:<!-- raw HTML omitted --><!-- raw HTML omitted -->Authentication alias for XA recovery<!-- raw HTML omitted --><!-- raw HTML omitted -->Component-managed authentication alias<!-- raw HTML omitted --><!-- raw HTML omitted -->Container-managed authentication alias<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The<!-- raw HTML omitted --> <!-- raw HTML omitted -->CETRX user<!-- raw HTML omitted --> <!-- raw HTML omitted -->created<!-- raw HTML omitted --> <!-- raw HTML omitted -->in the Oracle Database is<!-- raw HTML omitted --> <!-- raw HTML omitted -->the user that is to access the Backup D<!-- raw HTML omitted --><!-- raw HTML omitted -->atabase. If this is not the same as the transaction database user, the<!-- raw HTML omitted --> <!-- raw HTML omitted -->CETRX<!-- raw HTML omitted --> <!-- raw HTML omitted -->alias<!-- raw HTML omitted --> <!-- raw HTML omitted -->must<!-- raw HTML omitted --> <!-- raw HTML omitted -->be set in the Global Security tab, JAAS - J2C Authentication Data page of the WebSphere Application Server Administrative Console.<!-- raw HTML omitted --></td>
<td style="text-align:center"></td>
<td style="text-align:center"><img src="images/d96eca3c-c05e-43b7-b4db-8bce7a5ef96a.png" alt=""><!-- raw HTML omitted --><!-- raw HTML omitted --><img src="images/75a0fdc4-5e57-4ace-8a3d-5769b5a51d62.png" alt=""></td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the CEX data source:<!-- raw HTML omitted --><!-- raw HTML omitted -->Name: CEX<!-- raw HTML omitted --><!-- raw HTML omitted -->JNDI Name: CEX</td>
<td style="text-align:center"></td>
<td style="text-align:center"><img src="images/70d38d20-9e07-4bdb-896b-3ddf84ec189f.png" alt=""></td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>This must point to the Transaction Database (e.g., CEDB).<!-- raw HTML omitted --><!-- raw HTML omitted -->Assign CETRX for:<!-- raw HTML omitted --><!-- raw HTML omitted -->Authentication alias for XA recovery<!-- raw HTML omitted --><!-- raw HTML omitted -->Component-managed authentication alias<!-- raw HTML omitted --><!-- raw HTML omitted -->Container-managed authentication alias<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The CETRX user is the same as the<!-- raw HTML omitted --> <!-- raw HTML omitted -->CETRX user that is used to access the transaction database<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The CEX data source points to the physical Transaction Database, and is essentially the same as the CET data source.<!-- raw HTML omitted --></td>
<td style="text-align:center"></td>
<td style="text-align:center"><img src="images/56e16dfd-4dd9-48ac-85ad-a14f1968f9d4.png" alt=""><!-- raw HTML omitted --><!-- raw HTML omitted --><img src="images/e66bb9ce-eb59-41bd-8995-214e1f983350.png" alt=""></td>
</tr>
</tbody>
</table>
<p>CE Utility Data Source Settings</p>
<p>Log on the CE Utility as a Super Administrator user and configure the following data source settings.</p>
<table>
<thead>
<tr>
<th><!-- raw HTML omitted --><strong>Do the following . . .</strong><!-- raw HTML omitted --></th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the DataSource Manage function from the User Manage group.</th>
<th></th>
<th><img src="images/53dea757-7204-4d51-b81b-ff4142c28342.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Check the settings in the Transaction Data Source Manager tab of the DataSource Manage function window.</td>
<td></td>
<td><img src="images/48c1cbf5-3be5-4eda-a7de-62fd3163a74d.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Modify or create the CEX data source.<!-- raw HTML omitted --><!-- raw HTML omitted -->This data source must point to the Transaction Database, and reference the CEX JNDI setting and CETRX user profile.<!-- raw HTML omitted --><!-- raw HTML omitted -->Make sure to select Archiving as the database type.</td>
<td></td>
<td><img src="images/0cd3a460-ed61-45c4-84f7-7ad1162ba906.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Modify or create the CEB data source.<!-- raw HTML omitted --><!-- raw HTML omitted -->This data source must point to the Backup Database, and reference the CEB JNDI setting and CETRX user profile. <!-- raw HTML omitted --><!-- raw HTML omitted -->Make sure to select Backup as the database type.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->CETRX is the CE Transaction Database user that is to access the Backup Database.<!-- raw HTML omitted --></td>
<td></td>
<td><img src="images/bf65932e-3e12-4619-a234-f33de5e0e14f.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>XML GENERATION:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Log on as an Administrator or Operator user and run the XML Generator function.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Generate the XML file for the Data Source Manage<!-- raw HTML omitted --><!-- raw HTML omitted -->r<!-- raw HTML omitted --> <!-- raw HTML omitted -->parameter.<!-- raw HTML omitted --></td>
<td></td>
<td><img src="images/5b5b9879-4fb3-4013-97d9-4a7f089df99e.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->The updated XML files are generated<!-- raw HTML omitted --> <!-- raw HTML omitted -->on<!-- raw HTML omitted --> <!-- raw HTML omitted -->this path:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->[Parameter Drive]&lt;/span&gt;<!-- raw HTML omitted -->C<!-- raw HTML omitted --><!-- raw HTML omitted -->E_SYS\SYST<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The updated<!-- raw HTML omitted --> <!-- raw HTML omitted -->ee_dsmgr.xml<!-- raw HTML omitted --> <!-- raw HTML omitted -->file contains<!-- raw HTML omitted --> <!-- raw HTML omitted -->details<!-- raw HTML omitted --> <!-- raw HTML omitted -->on the bank groups which data sources have been set.<!-- raw HTML omitted --></td>
<td></td>
<td><img src="images/b2bf1a23-b3f7-494e-9aa5-9fb9cd934f9b.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Log Settings</p>
<p>Configure the settings for the Archive logs through this file:</p>
<p>[CE Parameter Folder]\CE_SYS\CE_Log_Config.xml</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->Archive Log<!-- raw HTML omitted --> <!-- raw HTML omitted -->configuration<!-- raw HTML omitted --> <!-- raw HTML omitted -->settings:<!-- raw HTML omitted --></p>
<p><img src="images/51b108f8-7d81-49cb-8829-ccb8dde84301.jpeg" alt="tmp114.jpg"></p>
<p>For detailed information on log configuration, refer to the <em>CE Log Settings</em> documentation.</p>
<p>Manual Archive Mode</p>
<p>Overview</p>
<p>COMMON pARAMETER Settings</p>
<p>ARCHIVE DATA FUNCTION</p>
<p>Restore Archived Data Function</p>
<p>Inquire Archived Data function</p>
<p>Overview</p>
<p>With the Manual Archive mode, the archiving process is performed by module. The archiving functions are grouped and accessed under a particular transaction module. Moreover, only the records that satisfy the defined set of criteria can be accessed and processed under an Archive function.</p>
<p>The Manual Archive functions that may be created under a business transaction module are as follows:</p>
<p>Archiving Data</p>
<p>Inquire Archived Data</p>
<p>Restore Archived Data</p>
<p>Common Parameter Settings</p>
<p>Configuring manual Archiving functions involves common prerequisite parameters.</p>
<p>Archive Control Component</p>
<p>Trx Manager Archive, a Control component, is used for 2 manual Archiving functions: Archive Data and Restore Archived Data.</p>
<p>Log on the CE Utility as an Operator user and define the following settings.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the Component Manage function from the Parameter Manage function group.</th>
<th></th>
<th style="text-align:center"><img src="images/73776422-540a-4496-9828-f016266912de.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the Control component type.</td>
<td></td>
<td style="text-align:center"><img src="images/a870fc87-6ed2-4f3b-a735-609b11a29512.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Check or add the Trx Manager Archive Control component:<!-- raw HTML omitted --><!-- raw HTML omitted -->Component Name: Trx Manager Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Component Description: Trx Manager Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Class Name: TrxManagerArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Business Type: Delete Master Mgr</td>
<td></td>
<td style="text-align:center"><img src="images/b1c95034-533d-4f90-a1de-32ae53ebbe2f.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Archive Product Items</p>
<p>Specific Archive product items are required to associate a manual Archiving function to the relevant Archiving product.</p>
<p>Add the following product items -</p>
<p>Archive</p>
<p>RestoreArchive</p>
<p>InquireArchive</p>
<p>- to this file:</p>
<p>[CE Utility Directory]\ce_params\Script_XML\product_item_prar.xml.</p>
<table>
<thead>
<tr>
<th><img src="images/94b11845-fffe-480c-acc2-919215002e40.png" alt=""></th>
</tr>
</thead>
</table>
<p>Figure 4.  Product Items for Archiving</p>
<p>Once these product Ids are defined in the XML file, add these in the Product Item function.  Log on the CE Utility as an Operator user:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the Product Item function from the Product Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/01bc3ce2-2ee4-4a71-9c13-46f9b4829b18.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add the Archive item Id:<!-- raw HTML omitted --><!-- raw HTML omitted -->Item ID: Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Name: Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Desc: Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Is Group: No<!-- raw HTML omitted --><!-- raw HTML omitted -->Position: Transaction<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Button: Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Type: Delete</td>
<td></td>
<td style="text-align:center"><img src="images/bbd2fe33-6426-4267-a8b1-2619ce930df6.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add the RestoreArchive item Id:<!-- raw HTML omitted --><!-- raw HTML omitted -->   Item ID: RestoreArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->   Item Name: RestoreArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->   Item Desc: RestoreArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->   Is Group: No<!-- raw HTML omitted --><!-- raw HTML omitted -->   Position: Transaction<!-- raw HTML omitted --><!-- raw HTML omitted -->   Item Button: RestoreArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->   Type: Delete</td>
<td></td>
<td style="text-align:center"><img src="images/8e6ac314-c904-4494-a281-cab398ae0a37.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add the InquireArchive item Id:<!-- raw HTML omitted --><!-- raw HTML omitted -->Item ID: InquireArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Name: InquireArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Desc: InquireArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Is Group: No<!-- raw HTML omitted --><!-- raw HTML omitted -->Position: Transaction<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Button: InquireArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Type: Inquire</td>
<td></td>
<td style="text-align:center"><img src="images/59e2e5d5-aaa9-4d9d-8e47-35a83462b855.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Error Codes</p>
<p>Log on the CE Utility as an Operator user and define the following error codes for Archiving processes.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the Error Handling function from the Maintenance function group.</th>
<th></th>
<th style="text-align:center"><img src="images/4b7ce2a1-b42c-4397-8003-7bce5a2b65c2.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>In the Catalog tab of the Error Handling function window, access the System node.</td>
<td></td>
<td style="text-align:center"><img src="images/e53651f0-744f-4b4c-ae3a-9de3f1ce7dad.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Check or add Error Code 000464:<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Code: 000464<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Key: System<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Level: Error<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Messge: &ldquo;Archive failure&rdquo;</td>
<td></td>
<td style="text-align:center"><img src="images/0106d755-5d1b-4781-926c-d0bee0fe344c.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Check or add Error Code 000465:<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Code: 000465<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Key: System<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Level: Error<!-- raw HTML omitted --><!-- raw HTML omitted -->Error Messge: &ldquo;Exception occur when restoring Archive&rdquo;</td>
<td></td>
<td style="text-align:center"><img src="images/e8f14dd3-c092-46bb-8012-4ee51a3a4e6a.png" alt=""></td>
</tr>
</tbody>
</table>
<p>JSP and JS Settings</p>
<p>Modify the JSP and JS settings of the relevant transaction module to support the Archiving and Recovery functionality.</p>
<p>Examples of such settings are provided in <a href="error%20reading">Appendix:</a> .</p>
<p>Archive Data Function</p>
<p>This function is used for archiving records.</p>
<p><img src="images/c9e78699-dc6c-4b30-bd55-a8d70bef1861.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>Archived records are stored in the Backup Database.  An archived transaction can be restored through the Restore Archived Data function.</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>Multiple records can be archived at a time</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>by adding</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>following</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>code</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>in the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>multiCheck</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>function</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>found</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>in the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SYS_MultiCatalog.js</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>file:</strong><!-- raw HTML omitted -->   <!-- raw HTML omitted --><strong>:: ITEM_ID == &ldquo;Archive&rdquo; :: ITEM_ID == &ldquo;RestoreArchive&rdquo;)</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>Example</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>:</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>function multiCheck(){</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>try {</strong><!-- raw HTML omitted --></p>
<pre><code>&lt;span style=&quot;color:#008080&quot;&gt;**if \(ITEM\_ID == &quot;Authorize&quot; :: ITEM\_ID == &quot;Authorise&quot;**&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;::&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;**ITEM\_ID == &quot;Archive&quot; :: ITEM\_ID == &quot;RestoreArchive&quot;\)**&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;**\{**&lt;/span&gt;

&lt;span style=&quot;color:#008080&quot;&gt;**return true;**&lt;/span&gt;
</code></pre>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>catch (e) {</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>showExcpt(&ldquo;SYS_MultiCatalog&rdquo;, e);</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p>Parameter Settings</p>
<p>Log on CE Utility as an Operator user and configure the following transaction function and product settings.</p>
<p>Transaction Function Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run Transaction Function from the Transaction Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/1b32e9cd-6881-451c-8017-1e78c4dc462b.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the module and function group for which the Archive Data function is to be created.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Module: Import Letters of Credit<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function Group: System Maintenance.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/c86d6197-3133-43e6-9e3f-95dbc4daae5b.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create the Archive Data function and set its main program to Trx Manager Archive.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function: IMLC Archive Data<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Unmark the following flags:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Check for Lock in Master<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Hold Master<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Need Lock<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Release<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/9c411e3f-97b3-4cad-97ee-e39348aa1b10.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the relevant Attribute settings for this function.</td>
<td></td>
<td style="text-align:center"><img src="images/60fbcde3-8aad-46f8-b6b9-72d574305d7d.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the relevant Catalog settings for this function.</td>
<td></td>
<td style="text-align:center"><img src="images/e2c4c1ea-7fc9-4d76-b239-84ef68bb6f70.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->If this manual Archive function is to be used to archive a record that has been received via STP, the STP settings must also be configured through the STP function component.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->For<!-- raw HTML omitted --> <!-- raw HTML omitted -->details<!-- raw HTML omitted --> <!-- raw HTML omitted -->on STP Archive functions, refer to:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Chapter Six: Archiving through STP</td>
<td></td>
<td style="text-align:center"><img src="images/27018054-503f-4212-93d5-70bebb830a62.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Product Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Access the Product Function Setting function from the Product Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/0582a690-829b-4970-b54b-36d384693e9d.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the relevant product group and product from the Product Function tab.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product Group: Import<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product: Import Letters of Credit<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/0d76d4c1-2c20-4e1f-84c6-62e439851998.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select the Archive Data function (e.g., IMLC Archive Data) and assign these settings:<!-- raw HTML omitted --><!-- raw HTML omitted -->Item: Archive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Type: Delete</td>
<td></td>
<td style="text-align:center"><img src="images/b24831a0-84ed-437e-b91c-4d2261495170.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Transaction Process</p>
<table>
<thead>
<tr>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>IMLC Archive Data Function<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the IMLC Archive Data function.</th>
<th></th>
<th style="text-align:center"><img src="images/422972d0-2255-423f-83ea-3917f8049215.jpeg" alt="tmp118.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select one record and click on the Archive button.<!-- raw HTML omitted --><!-- raw HTML omitted -->Check the Archive Log: All transaction event records - and related data including images, documents, mails, GAPI, etc. - are archived into the Backup Database and deleted from the original Transaction Database.</td>
<td></td>
<td style="text-align:center"><img src="images/79620b41-1c07-4726-9e24-3cd6bcaa124d.jpeg" alt="tmp119.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>IMLC Inquire Archive Function<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the IMLC Inquire Archive function. <!-- raw HTML omitted --><!-- raw HTML omitted -->The catalog shows the archived record.  Select this record and click on the InquireArchive button.</td>
<td></td>
<td style="text-align:center"><img src="images/98bc881d-7069-4ecc-ab68-76d462f6a4a2.jpeg" alt="tmp120.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The documents and uploaded images for this record are listed for viewing (through the corresponding View buttons).</td>
<td></td>
<td style="text-align:center"><img src="images/94e2bfe8-e2ad-4de3-9c40-d14878c5a87f.jpeg" alt="tmp121.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Click on the View Historical button.</td>
<td></td>
<td style="text-align:center"><img src="images/fb4c49bd-3ba3-4f6f-ba5f-6267cab352da.jpeg" alt="tmp122.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The events of the transaction record are listed.</td>
<td></td>
<td style="text-align:center"><img src="images/8d5051ac-dce9-46b8-8414-ede4bd82219d.jpeg" alt="tmp123.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select an event to view the event details.</td>
<td></td>
<td style="text-align:center"><img src="images/70ca3602-1002-47d6-848b-023e21199809.jpeg" alt="tmp124.jpg"></td>
</tr>
</tbody>
</table>
<p>Restore Archived Data Function</p>
<p>This function is used to retrieve transactions from the Backup Database, and add these back to the master file.</p>
<p>When the record to be restored already exists in the Transaction Database, the Restore process may not be performed on this record.</p>
<p>When a record is restored, all related events are also restored in the corresponding tables.</p>
<p><img src="images/bd363ac5-8a1e-4eb1-9e35-656d8ae1ae31.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>M</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>ultiple records</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>may be restored by adding the following code in the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>multiCheck</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>function</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>found</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>in the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SYS_MultiCatalog.js</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>file:</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>:: ITEM_ID == &ldquo;Archive&rdquo; :: ITEM_ID == &ldquo;RestoreArchive&rdquo;)</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->EXAMPLE:<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>function multiCheck(){</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>try {</strong><!-- raw HTML omitted --></p>
<pre><code>&lt;span style=&quot;color:#008080&quot;&gt;**if \(ITEM\_ID == &quot;Authorize&quot; :: ITEM\_ID == &quot;Authorise&quot;**&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;::&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;**ITEM\_ID == &quot;Archive&quot; :: ITEM\_ID == &quot;RestoreArchive&quot;\)**&lt;/span&gt; &lt;span style=&quot;color:#008080&quot;&gt;**\{**&lt;/span&gt;

&lt;span style=&quot;color:#008080&quot;&gt;**return true;**&lt;/span&gt;
</code></pre>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>catch (e) {</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>showExcpt(&ldquo;SYS_MultiCatalog&rdquo;, e);</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>}</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>The system restores multiple r</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>ecords one at a time.</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>After restoring the first selected record</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>, the system provides a Continue button to</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>enable the user to</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>restore the next selected records.</strong><!-- raw HTML omitted --></p>
<p>Parameter Settings</p>
<p>Log on CE Utility as an Operator user and configure the following transaction function and product settings.</p>
<p>Transaction Function Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run Transaction Function from the Transaction Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/7e725478-c0f5-4812-b267-2722468c5408.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the module and function group for which the Restore Archived Data function is to be created.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Module: Import Letters of Credit<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function Group: System Maintenance.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/17757516-4ea3-4409-ae8f-cfea17b3c8e9.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create the Restore Archived Data function and set its main program to Trx Manager Archive.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function: IMLC Restore Archive<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Unmark the following flags:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Check for Lock in Master<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Hold Master<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Need Lock<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Release<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/0f95e448-fa0d-47a4-a546-1550261672ed.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the relevant Catalog settings for this function.</td>
<td></td>
<td style="text-align:center"><img src="images/e9d0868b-e196-44c5-abdf-702eaf7eb4ac.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Product Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Access the Product Function Setting function from the Product Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/331ad129-c71a-457d-8687-6e61a8665614.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the relevant product group and product from the Product Function tab.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product Group: Import<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product: Import Letters of Credit<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/d1a6b4f3-a928-4629-ab06-bf318b5a73be.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select the Restore Archived Data function (e.g., IMLC Restore Archive) and assign these settings:<!-- raw HTML omitted --><!-- raw HTML omitted -->Item: RestoreArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Type: Delete</td>
<td></td>
<td style="text-align:center"><img src="images/0bf91139-62c4-43ff-bec0-8f12cace5b7b.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Transaction Process</p>
<hr>
<p><!-- raw HTML omitted --><strong>Table has a different set of cells in one/more rows. It can&rsquo;t be shown in Markdown</strong><!-- raw HTML omitted --></p>
<hr>
<p>Inquire Archived Data Function</p>
<p>The Inquire Archived Data function is used to inquire into records that are stored in the Archive file.</p>
<p><img src="images/6b29fc59-8b39-40b3-8211-c7c42f57fe02.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Unlike other</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>inquiry</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>functions, the Inquire Archived Data function retrieves</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>details</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>from the Backup Database (i.e., CEB data source) and not from the Transaction Database.</strong><!-- raw HTML omitted --></p>
<p>Parameter Settings</p>
<p>Log on CE Utility as an Operator user and configure the following transaction function and product settings.</p>
<p>Transaction Function Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run Transaction Function from the Transaction Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/427b4942-6449-4071-864b-0760f55cd264.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the module and function group for which the Archive Data is to be created.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Module: Import Letters of Credit<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function Group: System Maintenance.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/4887cb95-4b04-4e82-85af-4ddc82820320.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create the Inquire Archived Data function and set its main program to Trx Manager Inq.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function: IMLC Inquire Archive<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/44ea28ab-1741-42a8-9674-4ceae91548fd.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Attach the transaction JSP and template JSP files to this function.</td>
<td></td>
<td style="text-align:center"><img src="images/1e336a83-32fc-4280-a7f3-459bbd70bca9.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the relevant Attribute settings for this function.</td>
<td></td>
<td style="text-align:center"><img src="images/61cc0f0d-64c7-40d4-936e-a307f0f1b63f.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the relevant Catalog settings for this function.</td>
<td></td>
<td style="text-align:center"><img src="images/df7e30d6-12d8-498d-a29c-03af80d0257a.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Product Settings</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Access the Product Function Setting function from the Product Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/98a8744e-bf9b-4295-ab9a-27c7e31f5bba.png" alt=""></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the relevant product group and product from the Product Function tab.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product Group: Import<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product: Import Letters of Credit<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/4e418c15-f912-442c-9163-6ad09d1513d6.png" alt=""></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select the Inquire Archived Data function (e.g., IMLC Inquire Archive) and assign these settings:<!-- raw HTML omitted --><!-- raw HTML omitted -->Item: InquireArchive<!-- raw HTML omitted --><!-- raw HTML omitted -->Item Type: Inquire</td>
<td></td>
<td style="text-align:center"><img src="images/651abd79-4a76-4acc-937c-f44b406ea59c.png" alt=""></td>
</tr>
</tbody>
</table>
<p>Transaction Process</p>
<table>
<thead>
<tr>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Through the IMLC Archive Data function, archive one record.</th>
<th></th>
<th style="text-align:center"><img src="images/353839d2-9976-4062-878e-04ba7ebb8fa1.jpeg" alt="tmp119.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Run the IMLC Inquire Archive function. <!-- raw HTML omitted --><!-- raw HTML omitted -->The catalog shows the archived record.  Select this record and click on the InquireArchive button.</td>
<td></td>
<td style="text-align:center"><img src="images/c42f9f22-1c89-4ac3-9a0f-3b24e6b50b7b.jpeg" alt="tmp120.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The documents and uploaded images for this record are listed for viewing (through the corresponding View buttons).</td>
<td></td>
<td style="text-align:center"><img src="images/a1d3bd47-781c-4ab6-acde-75eafa761d3c.jpeg" alt="tmp121.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Click on the View Historical button.</td>
<td></td>
<td style="text-align:center"><img src="images/7bc8f825-c032-47a6-85b3-9178c00104f0.jpeg" alt="tmp122.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>The events of the transaction record are listed.</td>
<td></td>
<td style="text-align:center"><img src="images/09177d27-3de5-4bbc-9684-9c2ed8180249.jpeg" alt="tmp123.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select an event to view the event details.</td>
<td></td>
<td style="text-align:center"><img src="images/f3703e14-79bf-4988-a5a4-d2fdce219d19.jpeg" alt="tmp124.jpg"></td>
</tr>
</tbody>
</table>
<p>Auto Archive Mode</p>
<p>Overview</p>
<p>parameter SEttings</p>
<p>Transaction Process</p>
<p>Overview</p>
<p>With the Auto Archive mode (or batch mode), records from the relevant module that satisfy a defined set of criteria for the module are automatically archived.</p>
<p>The AutoArchiveData batch function is an example of an Auto Archive function.</p>
<p><img src="images/9f805267-6cde-4392-b836-bb88c29c7f24.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Each module has its own Archive conditions, which are set through the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Sub Task function</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>of the CE Utility.</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>Refer to the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>succeeding</strong><!-- raw HTML omitted --> <strong><a href="error%20reading">Par</a></strong> <!-- raw HTML omitted --><strong>section for more</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>details</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>on setting the archive conditions for each module.</strong><!-- raw HTML omitted --></p>
<p>Parameter Settings</p>
<p>One of the tasks under the AutoProcessTaskMgr batch manager, the AutoArchiveData batch function is used to automatically archive transaction records from a particular module that satisfy a defined set of criteria.</p>
<p>The parameter settings for this batch function involve settings in the Sub Tasks, AP Server, Import/Export Business Unit, and Batch Manage functions.  Log on the CE Utility as an Operator user and configure the following settings.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Sub Tasks<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the Sub Tasks function from the Transaction Function group.</th>
<th></th>
<th style="text-align:center"><img src="images/4c2d3e48-58ee-4ce4-8048-3c8314a840ef.jpeg" alt="CEv3_189.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the Auto Process Manage subtask type.</td>
<td></td>
<td style="text-align:center"><img src="images/6413bf24-050b-4acc-8a04-ba4c978c8349.jpeg" alt="CEv3_190.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Configure the AutoArchiveData settings as required, and make sure to define the following:<!-- raw HTML omitted --><!-- raw HTML omitted -->Task Name, Task Description, Task Component: AutoArchiveData<!-- raw HTML omitted --><!-- raw HTML omitted -->Start Schedule Type and related settings<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The<!-- raw HTML omitted --> <!-- raw HTML omitted -->Month, Week Day, Day,<!-- raw HTML omitted --> <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->Hour<!-- raw HTML omitted --> <!-- raw HTML omitted -->fields are enabled based the Start Schedule Type field setting. Define the values of these fields as well as the Minute component of the archive task schedule accordingly. Refer to the<!-- raw HTML omitted --> <!-- raw HTML omitted --><em>CE Utility Referenc</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>e</em><!-- raw HTML omitted --><!-- raw HTML omitted --><em>:</em><!-- raw HTML omitted --> <!-- raw HTML omitted --><em>Transaction Functions</em><!-- raw HTML omitted --> <!-- raw HTML omitted -->documentation<!-- raw HTML omitted --> <!-- raw HTML omitted -->for more<!-- raw HTML omitted --> <!-- raw HTML omitted -->details<!-- raw HTML omitted --> <!-- raw HTML omitted -->on these settings.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Marking the Start Server flag allows a user to manually start the AutoArchiveData task.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The Time<!-- raw HTML omitted --><!-- raw HTML omitted -->r<!-- raw HTML omitted --> <!-- raw HTML omitted -->(Hours) field pertains to the duration within which the system archives the records that meet the criteria.  If the records are not archived completely within this period, the system terminates the archive process.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/0f105e7d-eba6-4540-86c3-205667493643.jpeg" alt="CEv3_191.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>AP Server<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the AP Server function from the Parameter Manage function group.</td>
<td></td>
<td style="text-align:center"><img src="images/83fdaba0-a4ce-401b-9d4e-76006cba495d.jpeg" alt="CEV30_Archive-02"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define or modify the AP Server settings: Name, Host Name, and IIOP Port.</td>
<td></td>
<td style="text-align:center"><img src="images/4dac5afb-701a-4d9a-94ac-b2bd60ba4cd9.jpeg" alt="CEV30_Archive-03"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Import/Export Business Unit<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the Import/Export Business Unit function from the User Manager function group.</td>
<td></td>
<td style="text-align:center"><img src="images/348dbd4c-2616-4ee0-b036-75f5e74e4512.jpeg" alt="CEV30_Archive-04"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>In the Import/Export Business Unit window, select the Application Server setting and click on the Import button.</td>
<td></td>
<td style="text-align:center"><img src="images/6f09be7d-fd1d-4dd0-8170-a03b6af92ef7.jpeg" alt="CEV30_Archive-06"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Batch Manage<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the Batch Manage function from the Transaction Function group.</td>
<td></td>
<td style="text-align:center"><img src="images/36ca4e9e-88ab-498e-accc-f447b9fd7ecc.jpeg" alt="CEv3_192.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create or modify the AutoProcessTaskMgr batch manager. Select the correct AP Server Name setting.</td>
<td></td>
<td style="text-align:center"><img src="images/02d2337d-d64a-4246-b21e-8a9356d1ab1f.jpeg" alt="CEV30_Archive-08"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add AutoArchiveData as a subtask of the AutoProcessTaskMgr batch manager.</td>
<td></td>
<td style="text-align:center"><img src="images/29d72f13-15ca-4505-9be7-06ef10fb171c.jpeg" alt="CEv3_193.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Sub Tasks<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the Sub Tasks function from the Transaction Function group.<!-- raw HTML omitted --><!-- raw HTML omitted -->Access the Archiving subtask type.</td>
<td></td>
<td style="text-align:center"><img src="images/31b4a79f-f540-4cac-9a8c-83d38d599003.jpeg" alt="CEv3_194.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the relevant module and define the following settings.</td>
<td></td>
<td style="text-align:center"><img src="images/a082c062-d6e1-4c01-b591-6b4e69b1f387.jpeg" alt="CEv3_196.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Fields: Select PARENT_MAIN_REF <!-- raw HTML omitted --><!-- raw HTML omitted -->This reference number is used to identify the transaction and all its associated data (e.g., images, documents).</th>
<th></th>
<th style="text-align:center"><img src="images/3f996cd5-217b-4c88-b120-d155643ccb63.jpeg" alt="CEv3_197.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>In the text area, define the condition by which records from the module are archived.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The SQL keywords - such as<!-- raw HTML omitted --> <!-- raw HTML omitted -->SELECT<!-- raw HTML omitted --> <!-- raw HTML omitted -->and<!-- raw HTML omitted --> <!-- raw HTML omitted -->FROM<!-- raw HTML omitted --> <!-- raw HTML omitted -->- must be in uppercase.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/b976eaf1-a458-41bb-a86f-731fa9b324e6.jpeg" alt="CEv3_198.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>XML GENERATION:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Generate the XML file for the<!-- raw HTML omitted --> <!-- raw HTML omitted -->Archive<!-- raw HTML omitted --> <!-- raw HTML omitted -->parameter.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/6a9a506e-153c-4cdb-829a-705a8fc6f792.jpeg" alt="CEv3_199.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->Select<!-- raw HTML omitted --> <!-- raw HTML omitted -->all<!-- raw HTML omitted --> <!-- raw HTML omitted -->module<!-- raw HTML omitted --><!-- raw HTML omitted -->s<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Selecting a<!-- raw HTML omitted --><!-- raw HTML omitted -->ll modules<!-- raw HTML omitted --> <!-- raw HTML omitted -->is recommended as the system<!-- raw HTML omitted --> <!-- raw HTML omitted -->generates XML only for the selected modules and<!-- raw HTML omitted --> <!-- raw HTML omitted -->deletes all previously generated XML for<!-- raw HTML omitted --> <!-- raw HTML omitted -->the unselected<!-- raw HTML omitted --> <!-- raw HTML omitted -->modules from the Archive folder<!-- raw HTML omitted --> <!-- raw HTML omitted -->under the<!-- raw HTML omitted --> <!-- raw HTML omitted -->CE_SYS<!-- raw HTML omitted --> <!-- raw HTML omitted -->directory<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/ff646735-8267-49da-9a04-c6376fc8ebc8.jpeg" alt="CEV30_Archive-10"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->The following files are generated in<!-- raw HTML omitted --> <!-- raw HTML omitted -->[Parameter Drive]\CE_SYS\ARCHIVE:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->autoporcess.xml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->module_[module short name].xml<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->multiPending.xml<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/678d9e00-b224-4402-b1df-48966a084881.jpeg" alt="CEV30_Archive-11"></td>
</tr>
</tbody>
</table>
<p>Transaction Process</p>
<table>
<thead>
<tr>
<th style="text-align:left">EXAMPLE:</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Run the Batch Manager function and display the AutoProcessTaskMgr task manager.<!-- raw HTML omitted --><!-- raw HTML omitted -->Start the AutoArchiveData subtask.</th>
<th></th>
<th style="text-align:center"><img src="images/57153afc-54ca-42f8-b5dd-d670e12465ac.jpeg" alt="tmp126.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Execute this SQL to check which records meet the archiving filter condition.</td>
<td></td>
<td style="text-align:center"><img src="images/9eb426ae-2e21-454c-9797-d8bf010b4bd4.jpeg" alt="tmp127.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Three records are archived according to the archiving period and archiving condition specified in the parameters.  (These pertain to the Auto Process Manage and Archiving settings defined in the Sub Tasks function.)<!-- raw HTML omitted --><!-- raw HTML omitted -->Check the Archive Log: All transaction event records - and related data including images, documents, mails, GAPI, etc. - are archived into the Backup Database and deleted from the original Transaction Database.</td>
<td></td>
<td style="text-align:center"><img src="images/157e0014-316e-487c-aab1-c1e4f6375fec.jpeg" alt="tmp128.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Run the IMLC Inquire Archive function.<!-- raw HTML omitted --><!-- raw HTML omitted -->The three records, along with their associated data, can be accessed through this function.</td>
<td></td>
<td style="text-align:center"><img src="images/ffa9e605-1ff4-4ddb-a441-eab2c2e4c618.jpeg" alt="tmp129.jpg"></td>
</tr>
</tbody>
</table>
<p>Archiving through STP</p>
<p>Overview</p>
<p>Parameter Settings</p>
<p>Transaction Process</p>
<p>Overview</p>
<p>When a record in the back-office system is archived, the corresponding record in CE must also be archived.</p>
<p>The back-office system sends the transaction&rsquo;s main reference number and other details to CE.  CE, in turn, receives the data through Auto Process function and archives the relevant record through the STP Archive Data function.</p>
<p><img src="images/33ff0237-cc7b-44cd-9c5c-569fbce4832f.jpeg" alt="Tzone55"><!-- raw HTML omitted -->NOTE:<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>The STP Archive Data and the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>manual</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Archive Data utilize the same</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>f</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>unction, which main program is Trx Manager Archive. For this function to</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>perform</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>the STP Archive Data process</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>,</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>STP and Attribute transaction component settings are defined</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>.</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><strong>CE receives the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>STP message</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>when the</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>InGapiForm message broker</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>is started.</strong><!-- raw HTML omitted --></p>
<p>Parameter Settings</p>
<p>Defining the STP configurations to archive transactions received via STP involves the following parameter settings:</p>
<p>Extension field</p>
<p>STP template and mapping rule</p>
<p>STP Archive Data function</p>
<p>Log on the CE Utility as an Operator user and configure the following settings.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Do the following . . .</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Extension Field<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the DB Dictionary function from the Maintenance function group.</th>
<th></th>
<th style="text-align:center"><img src="images/2b83829c-a895-4b7e-9deb-98e6433dddd0.jpeg" alt="CEv3_208.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the Reformat tab on the DB Dictionary function window.</td>
<td></td>
<td style="text-align:center"><img src="images/5db0a9c8-e01f-4cf0-8854-9c6a9cde2d06.jpeg" alt="CEv3_209.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add an extension field or tag which is to be used for storing module details sent from the back-office system:<!-- raw HTML omitted --><!-- raw HTML omitted -->Name: Module<!-- raw HTML omitted --><!-- raw HTML omitted -->DB Type: VARCHAR<!-- raw HTML omitted --><!-- raw HTML omitted -->Length: 4</td>
<td></td>
<td style="text-align:center"><img src="images/c69ea1fa-0604-4c4f-930f-1fa5dc1c438a.jpeg" alt="CEv3_210.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>STP Mapping<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the STP Mapping function from the Transaction Function group.</td>
<td></td>
<td style="text-align:center"><img src="images/cb8543d2-1d95-4d41-9f01-9689df698dc8.jpeg" alt="CEv3_212.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create the Archiving template.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Template ID and Template Description:<!-- raw HTML omitted --> <!-- raw HTML omitted -->ARCHIVE<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/d486d40a-fea7-4c9c-9972-f19a733e422b.jpeg" alt="CEv3_213.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Add the following Receive tags, which pertain to field details of the transaction from the back-office system:<!-- raw HTML omitted --><!-- raw HTML omitted -->Module, which pertains to the transaction module <!-- raw HTML omitted --><!-- raw HTML omitted -->CEMainRef, which pertains to the main reference number of the transaction<!-- raw HTML omitted --><!-- raw HTML omitted -->CustId, which refers to the Customer or Company Id</td>
<td></td>
<td style="text-align:center"><img src="images/15a1e378-ed24-4869-8313-1db43c77d39b.jpeg" alt="CEv3_214.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Create an STP mapping rule and map the template tags to the relevant fields:<!-- raw HTML omitted --><!-- raw HTML omitted -->CEMainRef: C_MAIN_REF<!-- raw HTML omitted --><!-- raw HTML omitted -->CustId: C_UNIT_CODE <!-- raw HTML omitted --><!-- raw HTML omitted -->Module tag: C_MODULE</td>
<td></td>
<td style="text-align:center"><img src="images/a514cc74-a670-474b-a3a0-8ffc8e97e495.jpeg" alt="CEv3_215.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>STP Setting<!-- raw HTML omitted --><!-- raw HTML omitted -->Run the STP Setting function from the System Function group.</td>
<td></td>
<td style="text-align:center"><img src="images/a772e389-4a6a-4741-97d4-53a515ba310d.jpeg" alt="CEv3_216.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the Assign Function tab for the Incoming Message STP type.</td>
<td></td>
<td style="text-align:center"><img src="images/e9f4e0dd-ca05-4a77-94a2-90ad03ea8018.jpeg" alt="CEv3_218.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Select the relevant message type (i.e., the defined STP template).<!-- raw HTML omitted --><!-- raw HTML omitted -->Assign the function that is to process the STP message through the stp.setFunc method.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Transaction function: IMLC Archive Data<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Product: Import Letters of Credit<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Code:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->stp.setFunc(&ldquo;IMLC Archive Data&rdquo;, &ldquo;Import Letters of Credit&rdquo;)<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/991dc6e0-8457-44ed-bbae-760fda4c0980.jpeg" alt="CEv3_219.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Transaction Function<!-- raw HTML omitted --><!-- raw HTML omitted -->Run Transaction Function from the Transaction Function group.</td>
<td></td>
<td style="text-align:center"><img src="images/1ea37b8e-a1d0-4612-bdf0-646c996434e4.jpeg" alt="CEv3_168.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access the module and function group for which the Archive Data function is to be created.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Module: Import Letters of Credit<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function Group: System Maintenance.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/0c408f35-90c0-4127-956b-d04c8efda0eb.jpeg" alt="CEv3_169.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Access or create the Archive Data function, which is used for archiving the received STP message.<!-- raw HTML omitted --><!-- raw HTML omitted -->For the required parameter settings, refer to Chapter Four &gt; Archive Data Function &gt; Parameter Settings. <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Function: IMLC Archive Data<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>NOTE:</strong><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Only one function is used for both STP archiving and<!-- raw HTML omitted --> <!-- raw HTML omitted -->manual archiving<!-- raw HTML omitted --> <!-- raw HTML omitted -->processes: the<!-- raw HTML omitted --> <!-- raw HTML omitted -->IMLC Archive Data<!-- raw HTML omitted --> <!-- raw HTML omitted -->function, which<!-- raw HTML omitted --> <!-- raw HTML omitted -->utilizes the Trx Manager Archive main program.<!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/f5a99efb-af5e-4d1c-9337-6ca05d3e0e48.jpeg" alt="CEv3_170.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Define the STP settings for this function through the STP function component.</td>
<td></td>
<td style="text-align:center"><img src="images/c2b7c1bb-926d-4cae-b54f-d13d1e613b84.jpeg" alt="CEv3_173.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>EXAMPLE</strong><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td></td>
<td style="text-align:center"><img src="images/46686e3a-b8b3-4692-bcb0-7fd45c21aca1.jpeg" alt="CEv3_174.jpg"></td>
</tr>
</tbody>
</table>
<p>Transaction Process</p>
<table>
<thead>
<tr>
<th style="text-align:left">EXAMPLE:</th>
</tr>
</thead>
</table>
<table>
<thead>
<tr>
<th>Send an STP message to CE.</th>
<th></th>
<th style="text-align:center"><img src="images/f3c30d56-eddd-455b-bae0-f49b62cf3538.jpeg" alt="tmp130.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Run the Batch Manager function and display the Message Broker task manager.  Make sure that the InGapiForm subtask has been started.<!-- raw HTML omitted --><!-- raw HTML omitted -->Check the STP Log: The STP message is received successfully. <!-- raw HTML omitted --><!-- raw HTML omitted -->Check the Archive Log: All transaction event records - and related data including images, documents, mails, GAPI, etc. - are archived into the Backup Database and deleted from the original Transaction Database.</td>
<td></td>
<td style="text-align:center"><img src="images/76439f6f-4abc-46a8-b926-5873b0b863b5.jpeg" alt="tmp131.jpg"></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>Run the IMLC Inquire Archive function.<!-- raw HTML omitted --><!-- raw HTML omitted -->The record, along with its associated data, can be accessed through this function.</td>
<td></td>
<td style="text-align:center"><img src="images/35fb8688-d005-49c3-9268-677578ff2174.jpeg" alt="tmp132.jpg"></td>
</tr>
</tbody>
</table>
<p>Sample Archiving JSP and JS Files</p>
<p>IMLC_ArchiveCriteria.jsp</p>
<p>IMLC_ViewArchive.jsp</p>
<p>IMLC_ViewArchive_Function.JS</p>
<p>IMLC_ViewArchive_Event.JS</p>
<p>IMLC_ArchiveCriteria.jsp</p>
<p><strong>(Start of Code)</strong></p>
<p>&lt;%--</p>
<p>/**</p>
<p>* $Id: IMLC_ArchiveCriteria.jsp,v 1.5 2013/12/31 02:41:03 HelenLiu Exp $</p>
<p>*</p>
<p>* @module: Import Letters of Credit (IMLC)</p>
<p>* @function: Archive</p>
<p>*/</p>
<p>--%&gt;</p>
<p>&lt;%@ taglib uri = &ldquo;/EXIMTAGS&rdquo; prefix = &ldquo;EXIMTAGS&rdquo;%&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><strong>(End of Code)</strong></p>
<p>IMLC_ViewArchive.jsp</p>
<p><strong>(Start of Code)</strong></p>
<p>&lt;%--</p>
<p>/**</p>
<p>* $Id: IMLC_ViewArchive.jsp,v 1.6 2013/12/31 02:45:47 Helen Exp $</p>
<p>*</p>
<p>* @module: Import Letters of Credit (IMLC)</p>
<p>* @function: View Archive</p>
<p>*/</p>
<p>--%&gt;</p>
<p>&lt;%@ taglib uri = &ldquo;/EXIMTAGS&rdquo; prefix = &ldquo;EXIMTAGS&rdquo;%&gt;</p>
<p>&lt;%@ taglib uri = &ldquo;/CETAGS&rdquo; prefix = &ldquo;CETAGS&rdquo;%&gt;</p>
<p>&lt;EXIMTAGS:IncludeFile filePath=&quot;../JS/IMLC_ViewImpLc_Function.js&quot;/&gt;</p>
<p>&lt;EXIMTAGS:IncludeFile filePath=&quot;../JS/IMLC_ViewImpLc_Event.js&quot;/&gt;</p>
<p>&lt;EXIMTAGS:IncludeFile filePath=&quot;../JS/IMLC_BaseFunc.js&quot;/&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;input name=&ldquo;PARENT_MAIN_REF&rdquo; type=&ldquo;hidden&rdquo; class=&ldquo;CHAR_O&quot;id=&ldquo;PARENT_MAIN_REF&rdquo; title=&ldquo;Parent Main Reference&rdquo; value=&quot;&quot;&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Hide Image(s)<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>&lt;%@ include file=&quot;../../../../include/SysViewImage.jsp&rdquo; %&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;FORM_OF_LC&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:DropDownElement elementType=&ldquo;CCY&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TOL_SPEC&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;AVAL_BY&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;!--<!-- raw HTML omitted -->--&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;PARTIAL_SHIP&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TNSHIP&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<pre><code>    &lt;EXIMTAGS:FldConv fldName=&quot;INCOTERMS&quot; smType=&quot;false&quot; emptyValue=&quot;&quot; blankOption=&quot;TRUE&quot;/&gt;
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;PRES_PRD_EVENT&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;CONF_INSTR&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:DropDownElement elementType=&ldquo;CCY&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:DropDownElement elementType=&ldquo;CCY&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;CHG_FLAG&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;FWD_COVER&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG1&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE1&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG2&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE2&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG3&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE3&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG4&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE4&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG5&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE5&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;SDA_FLAG6&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>&lt;EXIMTAGS:FldConv fldName=&ldquo;TENOR_TYPE6&rdquo; smType=&ldquo;false&rdquo; emptyValue=&quot;&quot; blankOption=&ldquo;TRUE&rdquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><strong>(End of Code)</strong></p>
<p>IMLC_ViewArchive_Function.JS</p>
<p><strong>(Start of Code)</strong></p>
<p>// $Id: IMLC_ViewArchive_Function.js,v 1.6 2013/12/31 03:01:08 helenliu Exp $</p>
<p>function Get_CURRNT_STATUS(){</p>
<p>try {</p>
<p>//        setFldValue(&ldquo;CURRNT_STATUS&rdquo;,&ldquo;Issued LC&rdquo;);</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Function&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p>function Get_NXT_STATUS(){</p>
<p>try {</p>
<p>//        setFldValue(&ldquo;NXT_STATUS&rdquo;, &ldquo;&quot;);</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Function&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p><strong>(End of Code)</strong></p>
<p>IMLC_ViewArchive_Event.JS</p>
<p><strong>(Start of Code)</strong></p>
<p>// $Id: IMLC_ViewArchive_Event.js,v 1.6 2013/12/31 03:01:08 HelenLiu Exp $</p>
<p>function OnInit(){</p>
<p>try {</p>
<p>if (SYS_FUNCTION_TYPE == &ldquo;EC&rdquo; :: SYS_FUNCTION_TYPE == &ldquo;RE&rdquo; :: SYS_FUNCTION_TYPE == &ldquo;IQ&rdquo; :: SYS_FUNCTION_TYPE == &ldquo;DM&rdquo;) {</p>
<p>SYS_CONFIRM_FLAG = true;</p>
<p>GetImageList();</p>
<p>}</p>
<p>else {</p>
<p>if (SYS_ERROR.length == 0) {</p>
<p>SYS_CONFIRM_FLAG = false;</p>
<p>InitValue();</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Event&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p>function InitValue(){</p>
<p>try {</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Event&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p>function ChkTrxData(){</p>
<p>try {</p>
<p>return true;</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Event&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p>function ConfirmTrx(){</p>
<p>try {</p>
<p>//Get_CURRNT_STATUS();</p>
<p>//Get_NXT_STATUS();</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Event&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p>function InitFldEvt(){</p>
<p>try {</p>
<p>}</p>
<p>catch (e) {</p>
<p>showExcpt(&ldquo;IMLC_ViewArchive_Event&rdquo;, e);</p>
<p>}</p>
<p>}</p>
<p><strong>(End of Code)</strong></p>
<p>Glossary</p>
<p>Glossary</p>
<p>a</p>
<table>
<thead>
<tr>
<th><em><strong>Application Server</strong></em></th>
<th>Server where the CE system is actually deployed and where CE processes the business logic and parameter operations.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Archiving</strong></em></td>
<td>The process of transferring transaction records from the Transaction Database to the Backup Database.</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Auto Archiving</strong></em></td>
<td>Mode of archiving in which records are automatically archived by batch according to a set of defined criteria.  This is also called Batch Archiving.</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Archive Data Function</strong></em></td>
<td>Function used for archiving records.</td>
</tr>
</tbody>
</table>
<p>B</p>
<table>
<thead>
<tr>
<th><em><strong>Batch Archiving</strong></em></th>
<th>See Auto Archiving.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Business Unit</strong></em></td>
<td>A processing center or a branch unit of a bank-country group.</td>
</tr>
</tbody>
</table>
<p>C</p>
<table>
<thead>
<tr>
<th><em><strong>CE Utility</strong></em></th>
<th>Short for Customer Enterprise Utility Workbench.  This is the main tool for building parameters in CE.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Customer Enterprise (CE)</strong></em></td>
<td>The Eximbills business-to-business (B2B) solution that provides bank customers with a convenient and secure single window for processing and inquiring on all their trade finance, open account, and payments transactions.</td>
</tr>
</tbody>
</table>
<p>D</p>
<table>
<thead>
<tr>
<th><em><strong>Database</strong></em></th>
<th>An application used for the management, storage, and retrieval of data.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Document</strong></em></td>
<td>Also referred to as form.  It is one of the types of output that can be generated in HTML, PDF, WORD, or EXCEL format by a transaction function.</td>
</tr>
</tbody>
</table>
<p>E</p>
<table>
<thead>
<tr>
<th><em><strong>End-user</strong></em></th>
<th>The actual user running the CE business functions.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Eximbills</strong></em></td>
<td>The flagship product of China Systems, which provides support for advanced e-commerce, open account, and trade-related services.</td>
</tr>
</tbody>
</table>
<p>F</p>
<table>
<thead>
<tr>
<th><em><strong>Field</strong></em></th>
<th>The smallest unit that can hold data.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Function</strong></em></td>
<td>A unified set of elements, operations, and configurations that produce a target setting, process, and/or output. This typically refers to a CE Utility function or a transaction function.</td>
</tr>
</tbody>
</table>
<p>I</p>
<table>
<thead>
<tr>
<th><em><strong>Inquire Archived Data Function</strong></em></th>
<th>Function used for inquiring into records that are stored in the Archive file.</th>
</tr>
</thead>
</table>
<p>M</p>
<table>
<thead>
<tr>
<th><em><strong>Manual Archiving</strong></em></th>
<th>Mode of archiving in which records are manually archived per module according to a set of defined criteria.  In addition, records received via STP can also be archived through this mode.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Meta Data</strong></em></td>
<td>The parameter data, or simply parameters, that are defined in the CE Utility.</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Module</strong></em></td>
<td>A group of functions that perform interrelated processes and operate under a general principle or objective (e.g., a system module, which is essential to system processes; a business or transaction module, which pertains to a bank service or product).</td>
</tr>
</tbody>
</table>
<p>P</p>
<table>
<thead>
<tr>
<th><em><strong>Parameter</strong></em></th>
<th>Any user-controlled configuration that defines a factor or logic within a set of interrelated operations; performs a specific action in a group of processes; or produces a categorical result or setting.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Parameter Files</strong></em></td>
<td>See XML*.*</td>
</tr>
</tbody>
</table>
<p>R</p>
<table>
<thead>
<tr>
<th><em><strong>Recovery</strong></em></th>
<th>The process of retrieving archived records from the Backup Database.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>Restore Archived Data Function</strong></em></td>
<td>Function used for retrieving transactions from the Backup Database, and adding these back to the master file.</td>
</tr>
</tbody>
</table>
<p>S</p>
<table>
<thead>
<tr>
<th><em><strong>SQL</strong></em></th>
<th>Stands for Structured Query Language.  This is a standard interactive and programming language for retrieving and updating data in the database.</th>
</tr>
</thead>
</table>
<p>X</p>
<table>
<thead>
<tr>
<th><em><strong>XML</strong></em></th>
<th>Stands for Extensible Markup Language.  This is the format used by CE for the communication between the client (browser) and the server.</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><em><strong>XML Generator Function</strong></em></td>
<td>The CE Utility function that is used to generate the corresponding XML files for a specific parameter setting.</td>
</tr>
</tbody>
</table>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5dc3d03496d9c85292f3ba2d397c948d">5 - Example - RDB Log</h1>
    
	<h1 id="get-data-from-rdb-log">Get Data from RDB Log</h1>
<p>How to get data from RDB Log?</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-177bc8becb828baa1e525871925f385b">5.1 - Get Data from Oracle Log</h1>
    <div class="lead">A example to show how to get historical data from Oracle Log.</div>
	<p><img src="./media/image1.png" alt="">{width=&ldquo;2.89375in&rdquo; height=&ldquo;1.0604166666666666in&rdquo;}</p>
<p>Get Historical Data from Database Log</p>
<p><strong>介绍各种从Oracle数据库Log中读取交易历史数据的方法，重点展示Oracle
Flashback技术的各种功能及用法，探讨在Eximbills产品中使用Oracle
Flashback技术的可能性。</strong></p>
<p>Copyright  2017</p>
<p>All rights reserved. This product and related documentation are
protected by copyright and distributed under licenses restricting its
use, copying, distribution and decompilation. No part of this product or
related documentation may be reproduced in any form by any means without
the prior written authorization of and its licensors, if any.</p>
<hr>
<p>Authors:   Dayu Bian
Version:   2.0.0
Date:      April 7, 2017
Project:   Audit Log Report</p>
<hr>
<p>:</p>
<hr>
<p>File name:         <br>
Path name:         <br>
Internal reference:   Audit Log Report</p>
<hr>
<p>DOCUMENT HISTORY</p>
<hr>
<p><strong>[Version]{.underline}</strong>   <strong>[Date]{.underline}</strong>   <strong>[Narrative]{.underline}</strong>
1.0.0                       September 15, 2011       First Draft
2.0.0                       April 7, 2017            Update for Oracle 12c Release 2 and new scenario</p>
<hr>
<h1 id="目录" class="TOC">目录</h1>
<p><a href="#%E8%83%8C%E6%99%AF%E6%8F%8F%E8%BF%B0">[1]{.underline} [背景描述]{.underline} 4</a></p>
<p><a href="#%E5%8E%86%E5%8F%B2%E8%B5%84%E6%96%99%E7%9A%84%E7%94%A8%E9%80%94">[1.1]{.underline} [历史资料的用途]{.underline} 4</a></p>
<p><a href="#%E5%8E%86%E5%8F%B2%E8%B5%84%E6%96%99%E7%9A%84%E4%BF%9D%E7%AE%A1%E4%B8%8E%E8%8E%B7%E5%8F%96">[1.2]{.underline} [历史资料的保管与获取]{.underline}
4</a></p>
<p><a href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93transaction-log%E5%86%85%E5%AE%B9%E7%9A%84%E6%96%B9%E6%B3%95">[1.3]{.underline} [获取数据库Transaction Log内容的方法]{.underline}
5</a></p>
<p><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%A1%E8%AE%A1%E7%9A%84%E4%B8%93%E7%94%A8%E5%B7%A5%E5%85%B7">[1.4]{.underline} [数据库审计的专用工具]{.underline}
5</a></p>
<p><a href="#oracle-flashback-technology">[2]{.underline} [Oracle Flashback Technology]{.underline}
7</a></p>
<p><a href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE">[2.1]{.underline} [系统设置]{.underline} 7</a></p>
<p><a href="#undo%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE">[2.1.1]{.underline} [UNDO参数设置]{.underline} 7</a></p>
<p><a href="#flashback-data-archive%E8%AE%BE%E7%BD%AE">[2.1.2]{.underline} [Flashback Data archive设置]{.underline}
9</a></p>
<p><a href="#flashback-transaction-query%E8%AE%BE%E7%BD%AE">[2.1.3]{.underline} [Flashback Transaction Query设置]{.underline}
11</a></p>
<p><a href="#flashback-transaction%E8%AE%BE%E7%BD%AE">[2.1.4]{.underline} [Flashback Transaction设置]{.underline}
11</a></p>
<p><a href="#%E5%8A%9F%E8%83%BD%E8%BF%90%E7%94%A8">[2.2]{.underline} [功能运用]{.underline} 11</a></p>
<p><a href="#%E5%9C%A8eximbills%E4%B8%AD%E4%BD%BF%E7%94%A8oracle-flashback-technology">[2.3]{.underline} [在Eximbills中使用Oracle Flashback
Technology]{.underline}
12</a></p>
<p><a href="#%E5%B0%8F%E7%BB%93">[3]{.underline} [小结]{.underline} 14</a></p>
<p><a href="#sign-off-sheet">[Sign-off Sheet]{.underline} 15</a></p>
<h1 id="背景描述">背景描述</h1>
<h2 id="历史资料的用途"><strong>历史资料的用途</strong></h2>
<p>交易及非交易数据的历史资料，对Eximbills这样的银行应用系统来说，在很多地方都会被用到。例如&mdash;&mdash;</p>
<ul>
<li>
<p>交易资料的核对、查询与报表;</p>
</li>
<li>
<p>审计功能(Audit);</p>
</li>
<li>
<p>对错误交易的更正(Cancellation)。</p>
</li>
</ul>
<h2 id="历史资料的保管与获取"><strong>历史资料的保管与获取</strong></h2>
<p>一个系统，如何保管历史资料，有两类方法&mdash;&mdash;</p>
<ul>
<li>
<p>应用系统自已保管历史资料，在设计时就充分考虑到历史资料的各种可能用途，规划好历史资料的归档、清理等功能。</p>
</li>
<li>
<p>利用数据库Log机制，从Log中获取应用所需的历史资料。</p>
</li>
</ul>
<p>前一种方法，其优点在于既不依赖于数据库的Log实现机制，也不依赖于第三方数据库工具，做到了实现一次、各个数据库都通用。但其缺点在于交易处理时需要额外处理&quot;历史&quot;资料的读写，相对增加了数据库操作，从而会对交易处理的性能产生一定的负面影响。</p>
<p>后一种方法，其优缺点恰好与前者相反。由于主流的关系型数据库，在SQL语句被真正落实到磁盘系统之前，都是要先记数据库交易Log，因此Log中实际已记录了数据的历史记录，利用数据库Log机制保管与获取历史资料，不仅可以通过节省交易处理时对数据库的存取来提高性能，而且可利用数据库Log管理机制实现历史资料的归档、清理。但缺点也很明显，这类方法严重依赖于数据库自身所提供的、非标准化的Log存取接口，或第三方软件工具，实现不了各数据库兼容。</p>
<p>因此，当我们强调应用要兼容各种数据库系统时，多半会采取前一种方法。比如在Eximbills中就有Event表，我们猜测其设计的本意应该是存放Master的历史资料，只不过隨着产品的演进，后来出现了改变Master却不增加Event记录的交易路径，从而给审计功能的实现提了个难题。</p>
<p>相反，当我们强调客户满意度、面对特定用户、遭遇系统性能瓶颈时，则倾向于使用后一种方法。</p>
<h2 id="获取数据库transaction-log内容的方法"><strong>获取数据库Transaction Log内容的方法</strong></h2>
<p>众所周知，数据库Log并非是以明码、文本方式存放的，所以想获取其内容需费一些周折。</p>
<p>已知的获取Log内容的方式有如下这些&mdash;&mdash;</p>
<ul>
<li>
<p>IBM InfoSphere Change Data Capture 一种实时的数据复制/转换工具，直接
从各种数据库Log中捕获数据变化，并可对数据进行一定的转换处理，最后写入到目标数据库中。
使用该工具，应用可从目标数据库中以SQL语句获取所需的Log内容。</p>
</li>
<li>
<p>Oracle Golden Gate 与IBM InfoSphere Change Data
Capture类似的实时数据复制工具，可直接
从各种数据库Log中捕获数据变化，并可对数据进行一定的转换处理，最后写入到目标数据库中。
使用该工具，应用可从目标数据库中以SQL语句获取所需的Log内容。</p>
</li>
<li>
<p>Oracle LogMiner Oracle数据库自带的Redo
Log分析工具，可分析Oracle在线与离线Redo Log，从中得到所有DML(Data
Manipulation Language)语句，应用可根据这些SQL语句跟踪数据变化。</p>
</li>
<li>
<p>IBM DB2 Recovery Expert DB2数据恢复工具，其Log分析功能可以从DB2
transaction log中读取并输出数据变化内容。</p>
</li>
<li>
<p>IBM db2ReadLog API DB2自带的C/C++
API，通过调用这些API，C/C++程序可以读取DB2 log内容。</p>
</li>
<li>
<p>Oracle Flashback Technology
Oracle闪回技术是Oracle数据库特有的一系列功能项。利用这些功能项，应用可以用SQL语句查询数据历史记录、事务的回滚SQL语句等有用信息。</p>
</li>
</ul>
<h2 id="数据库审计的专用工具"><strong>数据库审计的专用工具</strong></h2>
<p>如果我们获取数据库Log内容的目的仅仅是为了数据库审计，其实还有两个专门用于数据库安全审计的软件值得考虑：</p>
<ul>
<li>
<p>Oracle Audit Vault</p>
</li>
<li>
<p>IBM Security Guardium （以前叫做InfoSphere Guardium)</p>
</li>
</ul>
<p>这两个软件可以从多种数据库中抓取Log，提供全方位的数据安全保护与审计。一些非常通用的企业应用，也会结合这些安全审计工具，定制相应的审计功能。</p>
<p>无庸置疑，这类专用工具当然会提供诸如Before/After之类的报表功能：</p>
<p><img src="./media/image2.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;3.25in&rdquo;}</p>
<h1 id="oracle-flashback-technology">Oracle Flashback Technology</h1>
<p>就Oracle数据库而言，Flashback
Technology是系统自带的功能项，无需借助任何其他第三方工具，且使用也非常简便,只要经过一些必要的设置，应用就可以通过SQL语句得到数据库对象过去某个时点的快照。具体的功能描述，请参考Oracle手册：</p>
<p><a href="http://docs.oracle.com/database/122/ADFNS/flashback.htm#ADFNS1008">[http://docs.oracle.com/database/122/ADFNS/flashback.htm#ADFNS1008]{.underline}</a></p>
<h2 id="系统设置"><strong>系统设置</strong></h2>
<h3 id="undo参数设置">UNDO参数设置</h3>
<p>可用show parameters undo语句显示Oracle数据库中UNDO参数的设置。</p>
<p><img src="./media/image3.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;5.93125in&rdquo;}</p>
<p>其中undo_management及undo_tablespace是安装缺省值，且UNDOTBS1是一个自动扩展的tablespace。而undo_retention的值是28800秒，也就是8小时，表明UNDO信息保留的时长为8小时。必须注意，undo_retention所指定的时长是否有效，实际会受UNDOTBS1的大小限制，由于我们这儿的UNDOTBS1是自动扩展的，所以能保证UNDO信息保留8小时。下图为UNDOTBS1的相关设置：</p>
<p><img src="./media/image4.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;7.845833333333333in&rdquo;}</p>
<h3 id="flashback-data-archive设置">Flashback Data archive设置</h3>
<p>对于超出undo_retention时长的交易历史记录，Undo Management将会自动从UNDO
tablespace中移除。为将交易历史记录保留更长时间，Oracle提供了Flashback
Data Archive功能。</p>
<p>为使用些功能
，我们首先建立了一个NOLOGGING的tablespace&mdash;&mdash;FBATBS，如下图所示：</p>
<blockquote>
<p><img src="./media/image4.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;7.845833333333333in&rdquo;}</p>
</blockquote>
<p>然后，使用下面SQL语句建立一个缺省的Flashback Archive:</p>
<p>create flashback archive default <em>fla</em> tablespace <em>fbatbs</em> retention <em>30
day</em>;</p>
<p>这里的retention指定了交易历史记录在flashback
archive中保留的时长，单位可以是天、月、年。</p>
<p>最后，使用alter table语句一一指定各个需要保留历史记录的表：</p>
<p>ALTER TABLE eximbills.imlc flashback archive;</p>
<h3 id="flashback-transaction-query设置">Flashback Transaction Query设置</h3>
<p>如果我们需要查询在一个数据库事务中做了哪些数据更新，则需要做如下设置：</p>
<blockquote>
<p>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;</p>
</blockquote>
<h3 id="flashback-transaction设置">Flashback Transaction设置</h3>
<p>如果我们希望通过调用过程DBMS_FLASHBACK.TRANSACTION_BACKOUT回滚已提交的数据库事务，则需要做如下设置(第一条命令需要数据库以startup
mount方式启动，此时数据库在非Open状态下，才能被正确执行)：</p>
<blockquote>
<p>ALTER DATABASE ARCHIVELOG;</p>
<p>ALTER SYSTEM ARCHIVE LOG CURRENT;</p>
<p>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;</p>
<p>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;</p>
<p>ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (FOREIGN KEY) COLUMNS;</p>
</blockquote>
<p><em><strong>需要注意的是，在真正的银行生产环境中，Eximbills所使用的数据库用户不会是DBA，所以除上述设置项目外，还会涉及到一些数据库权限设置，具体方法请参阅相关文档。</strong></em></p>
<h2 id="功能运用"><strong>功能运用</strong></h2>
<p>接下去的两幅图，分别显示了Flashback Version Query与Flashback Transaction
Query的具体效果：</p>
<p><img src="./media/image5.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;3.1347222222222224in&rdquo;}</p>
<p><img src="./media/image6.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;2.651388888888889in&rdquo;}</p>
<p><em><strong>需要注意的是，我们在实际测试中发现，Flashback Version
Query有一个短暂的延时，即交易提交后，我们虽可通过Flashback Version
Query立即查询到之前的最新版本的栏位versions_endscn与versions_endtime从null变为相应的时间戳，但当前最新版本却不会立刻显现于Flashback
Version Query。总之，会有一个短暂的延时。</strong></em></p>
<h2 id="在eximbills中使用oracle-flashback-technology">在Eximbills中使用Oracle Flashback Technology</h2>
<p>从前面的演示效果，我们不难发现，利用Oracle Flashback Version
Query，Eximbills可以回溯数据库记录的演进历史，从而可据此实现对历史数据的查询、生成
Audit Log Report、得到Cancellation所需的历史记录。利用Oracle Flashback
Transaction Query，我们甚至可以得到Cancellation所需的Undo SQL语句。</p>
<p>为更为详细地演示Oracle Flashback
Technology，我们建立了eximbills.imlc表，具体表结构如下图所示：</p>
<p><img src="./media/image7.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;1.7097222222222221in&rdquo;}</p>
<p>为了得到Before/After Value Report的效果，我们使用如下SQL建立了一个View:</p>
<p>create view eximbills.imlc_fb_view as</p>
<p>SELECT versions_startscn, versions_endscn, versions_starttime,
versions_endtime, versions_xid, 'B' as versions_operation, lc_no,
lc_ccy, lc_amt, lc_event, exim_user, exim_trx_id</p>
<p>FROM eximbills.imlc versions BETWEEN SCN MINVALUE AND MAXVALUE</p>
<p>where versions_endscn is not null and versions_endscn in (select
versions_startscn from eximbills.imlc versions BETWEEN SCN MINVALUE AND
MAXVALUE where versions_startscn is not null)</p>
<p>union</p>
<p>SELECT versions_startscn, versions_endscn, versions_starttime,
versions_endtime, versions_xid, versions_operation, lc_no, lc_ccy,
lc_amt, lc_event, exim_user, exim_trx_id</p>
<p>FROM eximbills.imlc versions BETWEEN SCN MINVALUE AND MAXVALUE;</p>
<p>针对上述view，使用如下SQL：</p>
<p>select * from eximbills.imlc_fb_view where versions_operation is not
null order by lc_no, versions_endtime asc, versions_operation desc;</p>
<p>则得到下面图中的结果：</p>
<p><img src="./media/image8.png" alt="">{width=&ldquo;6.0in&rdquo; height=&ldquo;2.6083333333333334in&rdquo;}</p>
<p>当然，我们也可以不用如此复杂的SQL语句、转而在程序中直接操纵数据集得到完全相似的结果。</p>
<p>这里强调一下，在使用Oracle Flashback
Technology时，我们需要注意以下几点：</p>
<ul>
<li>
<p>Flashback Version Query的响应有一定延时;</p>
</li>
<li>
<p>Flashback Version
Query所返回的结果中没有数据库用户信息，因此需要应用在相应表中增加用户信息字段，并在更新数据库资料时同时更新这些字段;</p>
</li>
<li>
<p>Flashback Version Query所返回的结果中不包括直接的SQL
Delete信息，但Delete的效果体现在versions_endscn及versions_endtime栏位的值上。</p>
</li>
</ul>
<h1 id="小结">小结</h1>
<p>有若干种方法从数据库Log中读取交易的历史记录，就Oracle数据库而言，Flashback
Technology是数据库自带的功能，只需在数据库上进行一些设置就可打开这些功能，而且其接口形式为SQL语句，故兼容于基于JDBC的各种报表工具，应用方面需要进行的改动也较小，可作为设计Audit
Log Report功能的备选方案。</p>
<h1 id="sign-off-sheet" class="ListParagraph">Sign-off Sheet</h1>
<hr>
<p>Internal Reference:  <br>
Version:             <br>
Authors:             <br>
Sign off Required by:</p>
<hr>
<hr>
<p>[Reviewed by]{.underline}   [Position / Comment]{.underline}   [Signature]{.underline}   [Date]{.underline}</p>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0d7674015e99daafc58965b6c3b23fb7">5.2 - Get Data from DB2 Log</h1>
    <div class="lead">A example to show how to get historical data from DB2 Log.</div>
	<p><img src="./media/image1.png" alt="">{width=&ldquo;2.89375in&rdquo; height=&ldquo;1.0604166666666666in&rdquo;}</p>
<p>简要介绍DB2 V10.1上新出的Time Travel
Query技术，探讨在Eximbills产品中使用该技术实现Audit
Log相关功能的可能途径。</p>
<p>Copyright  2012</p>
<p>All rights reserved. This product and related documentation are
protected by copyright and distributed under licenses restricting its
use, copying, distribution and decompilation. No part of this product or
related documentation may be reproduced in any form by any means without
the prior written authorization of and its licensors, if any.</p>
<p>Authors:   Dayu Bian</p>
<hr>
<p>Version:   1.0.0
Date:      September 27, 2012
Project:   Audit Log Report</p>
<p>:</p>
<p>File name:</p>
<hr>
<p>Path name:         <br>
Internal reference:   Audit Log Report</p>
<p>DOCUMENT HISTORY</p>
<p><strong>[Version]{.underline}</strong>   <strong>[Date]{.underline}</strong>   <strong>[Narrative]{.underline}</strong></p>
<hr>
<p>1.0.0                       September 26, 2012       First Draft</p>
<p>Contents</p>
<p>1 背景描述 4</p>
<p>2 设置步骤 5</p>
<p>2.1 增加并指定系统时间字段 5</p>
<p>2.2 创建历史记录表 5</p>
<p>2.3 关联历史记录表 6</p>
<p>3 验证Time Travel Query效果 7</p>
<p>4 小结 8</p>
<p>Sign-off Sheet 9</p>
<h1 id="背景描述">背景描述</h1>
<p>在上一篇报告<a href="Get%20Data%20from%20DB%20Log%20-%20Oracle.docx">[《Get Data from DB Log -
Oracle.docx》]{.underline}</a>中，介绍了Oracle数据库的Flashback技术。利用该技术，应用程序与报表工具可以直接使用SQL语句读取到数据库中记录的变化历史资料，从而给Audit
Log功能的实现提供了便利。</p>
<p>IBM的DB2也不甘落后，在今年推出的V10.1上，提供了一个与Oracle
Flashback功能相似的技术&mdash;&mdash;Time Travel
Query，<a href="http://www-01.ibm.com/software/data/db2/linux-unix-windows/time-travel-query.html">[这里]{.underline}</a>有相关介绍。</p>
<p>在具体的设置方法上，DB2与Oracle并不一样。在DB2上，对于需跟踪历史记录的table，采用的是定义相应的时序表（temporal
table）的方法。</p>
<p>在所提供的具体功能上，DB2与Oracle也不尽相同。在DB2上，一共提供了三种类型的时序表&mdash;&mdash;</p>
<ul>
<li>
<p>以数据库系统时间为基准的System-period temporal tables(STT);</p>
</li>
<li>
<p>以应用中的业务时间为基准的Application-period temporal tables(ATT);</p>
</li>
<li>
<p>结合STT与ATT为一体的Bitemporal tables。</p>
</li>
</ul>
<p>对于应用设计而言，DB2的Time Travel
Query在功能上似乎更胜一筹。因为目前我们只对如何实现Audit
Log感兴趣，所以本报告将只涉及到STT的使用方法。</p>
<h1 id="设置步骤">设置步骤</h1>
<p>假设有一个名为IMLC的表，现有如下几个简单字段&mdash;&mdash;</p>
<p><img src="./media/image2.png" alt="orginal\_base\_tabel.PNG">{width=&ldquo;6.0in&rdquo;
height=&ldquo;1.6229166666666666in&rdquo;}</p>
<p>下面，我们将以此表为基础、分三个步骤设置对STT&mdash;&mdash;</p>
<h2 id="增加并指定系统时间字段"><strong>增加并指定系统时间字段</strong></h2>
<p>使用下面的SQL为IMLC增加用于存放系统时间的字段：</p>
<p><strong>ALTER</strong> <strong>TABLE</strong> ADMINISTRATOR.IMLC</p>
<p><strong>ADD</strong> <strong>COLUMN</strong> SYSTEM_START_TIME <strong>TIMESTAMP</strong>(12) <strong>NOT</strong>
<strong>NULL</strong> GENERATED ALWAYS <strong>AS</strong> <strong>ROW</strong> <strong>BEGIN</strong></p>
<p><strong>ADD</strong> <strong>COLUMN</strong> SYSTEM_END_TIME <strong>TIMESTAMP</strong>(12) <strong>NOT</strong> <strong>NULL</strong>
GENERATED ALWAYS <strong>AS</strong> <strong>ROW</strong> <strong>END</strong></p>
<p><strong>ADD</strong> <strong>COLUMN</strong> TRANS_ID <strong>TIMESTAMP</strong>(12) GENERATED ALWAYS <strong>AS</strong>
<strong>TRANSACTION</strong> START ID;</p>
<p>其中</p>
<ul>
<li>
<p>SYSTEM_START_TIME为System-period start time，具体含义为：This
column is the system time when this row came into existence (the
time of the original insert or update operation that created this
version of the row)</p>
</li>
<li>
<p>SYSTEM_END_TIME为System-period end time, 具体含义为：This column
is the system time when this row was modified with either a　newer
version of the row or deleted from the table. The setting of
this　timestamp to the following value indicates it is the current
version of the row:　9999-12-30-00:00.00</p>
</li>
<li>
<p>TRANS_ID为Transaction start ID，具体含义为：This column is the
unique identifier for the transaction that modified or inserted the
row; it can be used to find all records affected by the same
transaction across multiple tables using Time Travel Query. A
database can have many transactions occurring in a relatively short
time span (milliseconds). To uniquely identify different
transactions, a timestamp value provides subsecond granularity.</p>
</li>
</ul>
<p>使用下面的SQL为IMLC指定系统时间字段：</p>
<p><strong>ALTER</strong> <strong>TABLE</strong> ADMINISTRATOR.IMLC</p>
<p><strong>ADD</strong> PERIOD SYSTEM_TIME ( SYSTEM_START_TIME, SYSTEM_END_TIME );</p>
<h2 id="创建历史记录表">创建历史记录表</h2>
<p>使用下面的SQL语句为IMLC创建历史记录表:</p>
<p>CREATE TABLE IMLC_STT LIKE IMLC;</p>
<p>ALTER TABLE IMLC_STT APPEND ON;</p>
<p>后一条语句为可选项，但可提高IMLC_STT表的insert性能。</p>
<h2 id="关联历史记录表">关联历史记录表</h2>
<p>使用下面的SQL将两张表关联起来：</p>
<blockquote>
<p>ALTER TABLE IMLC ADD VERSIONING USE HISTORY TABLE IMLC_STT;</p>
</blockquote>
<p>至此，有关IMLC的STT设置就全部完成了。</p>
<h1 id="验证time-travel-query效果">验证Time Travel Query效果</h1>
<p>现在（2012年9月27日），我们对IMLC依次进行如下数据操作：</p>
<ul>
<li>
<p>Insert一笔记录，LCNO为LC-0001;</p>
</li>
<li>
<p>Update上笔记录；</p>
</li>
<li>
<p>Delete上笔记录；</p>
</li>
<li>
<p>Insert另一笔记录，LCNO为LC-0002.</p>
</li>
</ul>
<p>然后，我们运行如下Time Travel Query语句：</p>
<p>select * from IMLC</p>
<p>for system_time between timestamp('2012-09-27') and
timestamp('9999-12-31');</p>
<p>下图为运行结果：</p>
<p><img src="./media/image3.png" alt="imlc\_stt\_query.PNG">{width=&ldquo;6.0in&rdquo;
height=&ldquo;0.6722222222222223in&rdquo;}</p>
<p>显然，上述结果与Oracle Flashback Version
Query基本上是类似的,DELETE的结果也反映在SYSTEM_END_TIME字段上（Oracle上相应字段为versions_endtime）；但在版本记录被删除或修改之前，DB2上的值为9999-12-30，而Oracle上则是null。</p>
<h1 id="小结">小结</h1>
<p>DB2 V10.1上的Time Travel Query功能，与Oracle上的Flashback
Technology极其相似，都是只需在数据库上进行一些设置就可打开这些功能；而且，其接口形式都为SQL，故兼容于基于JDBC的各种报表工具，应用方面需要进行的改动也较小，可做为设计Audit
Log Report功能的备选方案。</p>
<h1 id="sign-off-sheet" class="ListParagraph">Sign-off Sheet</h1>
<p>Internal Reference:</p>
<hr>
<p>Version:             <br>
Authors:             <br>
Sign off Required by:</p>
<p>[Reviewed by]{.underline}   [Position / Comment]{.underline}   [Signature]{.underline}   [Date]{.underline}</p>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e49bcd4fac49fb7b5f981eb8497e7584">5.3 - Get Data from MS SQL Server Log</h1>
    <div class="lead">A example to show how to get historical data from MS SQL Server Log.</div>
	<p><img src="./media/image1.png" alt="">{width=&ldquo;2.89375in&rdquo; height=&ldquo;1.0604166666666666in&rdquo;}</p>
<p>简要介绍MS SQL Server 2008上出现的Change Data
Capture功能，探讨在Eximbills产品中使用该技术实现Audit
Log相关功能的可能途径。</p>
<p>Copyright  2012</p>
<p>All rights reserved. This product and related documentation are
protected by copyright and distributed under licenses restricting its
use, copying, distribution and decompilation. No part of this product or
related documentation may be reproduced in any form by any means without
the prior written authorization of and its licensors, if any.</p>
<p>Authors:   Dayu Bian</p>
<hr>
<p>Version:   1.0.0
Date:      September 29, 2012
Project:   Audit Log Report</p>
<p>:</p>
<p>File name:</p>
<hr>
<p>Path name:         <br>
Internal reference:   Audit Log Report</p>
<p>DOCUMENT HISTORY</p>
<p><strong>[Version]{.underline}</strong>   <strong>[Date]{.underline}</strong>   <strong>[Narrative]{.underline}</strong></p>
<hr>
<p>1.0.0                       September 28, 2012       First Draft</p>
<p>Contents</p>
<p>1 背景描述 4</p>
<p>2 设置步骤 5</p>
<p>2.1 Enable Change Data Capture for the Database exim 5</p>
<p>2.2 Enable Change Data Capture for the Table IMLC 5</p>
<p>3 验证效果 8</p>
<p>4 小结 10</p>
<p>Sign-off Sheet 11</p>
<h1 id="背景描述">背景描述</h1>
<p>在上两篇报告<a href="">[《Get Data from DB Log -
Oracle.docx》]{.underline}</a>、《<a href="Get%20Data%20from%20DB%20Log%20-%20DB2.docx">[Get
Data From DB Log &ndash;
DB2]{.underline}</a>》中，介绍了Oracle数据库的Flashback技术及DB2
V10的Time Travel
Query功能。利用这些技术，应用程序与报表工具可以直接使用SQL语句读取到数据库中记录的变化历史资料，从而给Audit
Log功能的实现提供了便利。</p>
<p>至于MS SQL Server，自2008版本起，推出了一个名为Change Data
Capture的功能，同样也是在后台通过读取数据库日志的方法、自动生成数据库中记录的变化历史资料。<a href="http://msdn.microsoft.com/en-us/library/cc645937.aspx">[这儿]{.underline}</a>有相关介绍，当中有一幅图（如下）描述了其基本实现原理。</p>
<p><img src="./media/image2.gif" alt="Change data capture dataflow">{width=&ldquo;2.4784722222222224in&rdquo;
height=&ldquo;4.157638888888889in&rdquo;}</p>
<h1 id="设置步骤">设置步骤</h1>
<p>假设在数据库exim下有一个名为dbo.IMLC的表，现有如下几个简单字段&mdash;&mdash;</p>
<p><img src="./media/image3.png" alt="imlc\_table.PNG">{width=&ldquo;4.042230971128609in&rdquo;
height=&ldquo;1.458536745406824in&rdquo;}</p>
<p>下面，我们将以此表为基础、分两个步骤设置Change Data Capture&mdash;&mdash;</p>
<h2 id="enable-change-data-capture-for-the-database-exim">Enable Change Data Capture for the Database exim</h2>
<p>执行以下Transact-SQL：</p>
<blockquote>
<p>USE exim</p>
<p>GO</p>
<p>EXEC sys.sp_cdc_enable_db</p>
<p>GO</p>
</blockquote>
<h2 id="enable-change-data-capture-for-the-table-imlc">Enable Change Data Capture for the Table IMLC</h2>
<p>执行以下Transact-SQL:</p>
<blockquote>
<p>USE exim</p>
<p>GO</p>
<p>EXEC sys.sp_cdc_enable_table</p>
<p>@source_schema = N'dbo',</p>
<p>@source_name = N'IMLC',</p>
<p>@role_name = NULL,</p>
<p>@supports_net_changes = 1</p>
<p>GO</p>
</blockquote>
<p>至此，有关IMLC的Data Change
Capture设置就全部完成了，系统还为此自动生成了两个Table-valued函数及一个Change
table:</p>
<p><img src="./media/image4.png" alt="imlc\_cdc\_functions.PNG">{width=&ldquo;5.386169072615923in&rdquo;
height=&ldquo;5.980002187226597in&rdquo;}</p>
<p><img src="./media/image5.png" alt="imlc\_cdc\_table.PNG">{width=&ldquo;6.0in&rdquo;
height=&ldquo;3.2625in&rdquo;}</p>
<h1 id="验证效果">验证效果</h1>
<p>现在（2012年9月29日），我们对IMLC依次进行如下数据操作：</p>
<ul>
<li>
<p>Insert一笔记录，LCNO为LC-0001;</p>
</li>
<li>
<p>Update上笔记录；</p>
</li>
<li>
<p>Delete上笔记录；</p>
</li>
<li>
<p>Insert另一笔记录，LCNO为LC-0002.</p>
</li>
</ul>
<p>然后，我们运行如下Transact-SQL：</p>
<p>USE exim;</p>
<p>GO</p>
<p>DECLARE @begin_time datetime, @end_time datetime, @from_lsn
binary(10), @to_lsn binary(10);</p>
<p>-- Obtain the beginning of the time interval.</p>
<p>SET @begin_time = GETDATE() -1;</p>
<p>-- Obtain the end of the time interval.</p>
<p>SET @end_time = GETDATE();</p>
<p>-- Map the time interval to a change data capture query range.</p>
<p>SET @from_lsn = sys.fn_cdc_map_time_to_lsn('smallest greater
than or equal', @begin_time);</p>
<p>SET @to_lsn = sys.fn_cdc_map_time_to_lsn('largest less than or
equal', @end_time);</p>
<p>-- Return the net changes occurring within the query window.</p>
<p>SELECT * FROM cdc.fn_cdc_get_all_changes_dbo_IMLC(@from_lsn,
@to_lsn, 'all');</p>
<p>得到的结果如下图：</p>
<p><img src="./media/image6.png" alt="imlc\_cdc\_query.PNG">{width=&ldquo;6.0in&rdquo;
height=&ldquo;0.9104166666666667in&rdquo;}</p>
<p>其中，__$operation的值的含义为：</p>
<blockquote>
<p>2 &ndash; Insert</p>
<p>4 &ndash; Update
(一次Update产生before/after两笔记录，由__$update_mask区分)</p>
<p>1 &ndash; Delete</p>
</blockquote>
<p>此外，通过JDBC/SQL直接访问Change Table也可得到与上面类似的结果：</p>
<p><img src="./media/image7.png" alt="imlc\_cdc\_jdbc\_sql.PNG">{width=&ldquo;6.0in&rdquo;
height=&ldquo;2.088888888888889in&rdquo;}</p>
<h1 id="小结">小结</h1>
<p>MS SQL Server上的Change Data Capture功能，与Oracle上的Flashback
Technology、DB2上的Time Travel
Query极其相似，都是只需在数据库上进行一些设置就可打开这些功能；而且，其接口形式都为SQL，故兼容于基于JDBC的各种报表工具，应用方面需要进行的改动也较小，可做为设计Audit
Log Report功能的备选方案。</p>
<h1 id="sign-off-sheet" class="ListParagraph">Sign-off Sheet</h1>
<p>Internal Reference:</p>
<hr>
<p>Version:             <br>
Authors:             <br>
Sign off Required by:</p>
<p>[Reviewed by]{.underline}   [Position / Comment]{.underline}   [Signature]{.underline}   [Date]{.underline}</p>
<hr>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-16d37f075c77b4a2021d3e5754ce102d">6 - Table Example</h1>
    <div class="lead">Markdown Table Example.</div>
	<table>
<thead>
<tr>
<th>Heading 1</th>
<th>Heading 2</th>
<th>Heading 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content 1,1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Content 2,1</td>
<td></td>
<td>Content 2, 3</td>
</tr>
<tr>
<td>Log on CE Utility as an Administrator or Operator user with rights to the XML Generator function</td>
<td><img src="./media/image1.png" alt=""></td>
<td>Content 3,3</td>
</tr>
<tr>
<td>The CE Utility window is displayed.</td>
<td><img src="./media/image2.png" alt=""></td>
<td>Content 4,3</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-279a5fb860227cb4690d4017c97eb636">7 - Search Results</h1>
    
	
</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>






 













<script src="/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js" integrity="sha256-OxcsE7YsK&#43;qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin="anonymous"></script>



<script src='/js/prism.js'></script>



  </body>
</html>
